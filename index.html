<input type="radio" name="attr_tab" class="sheet-tab sheet-tab1" value="1" title="PJ" /><span></span>
<input type="radio" name="attr_tab" class="sheet-tab sheet-tab2" value="2" title="PNJ" /><span></span>
<input type="radio" name="attr_tab" class="sheet-tab sheet-tab3" value="3" title="Bestiaire" /><span></span>

<div class="sheet-tab-content sheet-tab1" style="background-color:#926239">
	<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab"  value="principal"  />
	<div>
		<button type="action" name="act_principal" >Principal</button>
		<button type="action" name="act_equipement" >Equipement</button>
		<button type="action" name="act_grimoire" >Grimoire et familiers</button>
	</div>
	<div class="sheet-banner">
		<div style="width:241px; height:76px;"></div>
	</div>

	<!--Début Feuille de Perso PJ-->
	<!--Début feuille principale-->
	<div class="sheet-principal" style="background-color:#926239">
		<!--Début Infos Personnage!-->
		<div class="title" style="font-effect:engrave; margin-top: 25px;">Personnage</div><br>
		<div class="perso-char">
			Nom :<input class="perso-char-textbox" type="text" name="attr_Name" style="margin-right: 8px;"/>
            Race :<select class="perso-char-textbox" name="attr_Race" style="margin-right: 8px;">
                <option value="0">-Choisir-</option>
                <option value="1">Humain</option>
                <option value="2">Nain</option>
                <option value="3">Elfe</option>
                <option value="4">Demi-Elfe</option>
                <option value="5">Saurien</option>
                <option value="6">Demi-Ork</option>
                <option value="7">Felika</option>
                <option value="8">Vampire</option>
                <option value="9">Lycan</option>
                <option value="10">Succube</option>
                <option value="11">Animorphe</option>
            </select>
			Classe :<select class="perso-char-textbox" name="attr_Classe" style="margin-right: 8px;">
				<option value="0">-Choisir-</option>
                <option value="1">Aventurier</option>
                <option value="2">Barbare</option>
                <option value="3">Marchand</option>
                <option value="4">Chevalier</option>
                <option value="5">Sentinelle de la lumière</option>
                <option value="6">Druide</option>
                <option value="7">Dévot</option>
                <option value="8">Mage</option>
                <option value="9">Roublard</option>
                <option value="10">Spadassin</option>
            </select><br>
			Âge :<input class="perso-char-textbox" type="text" name="attr_Age" style="margin-right: 8px;"/>
			Sexe :<input class="perso-char-textbox" type="text" name="attr_Sexe" style="margin-right: 8px;"/>
			Spécialité :<input class="perso-char-textbox" type="text" name="attr_Spe" style="margin-right: 8px;"/><br>
			Ethnie :<input class="perso-char-textbox" type="text" name="attr_Ethnie" style="margin-right: 8px;"/>
			Divinité :<input class="perso-char-textbox" type="text" name="attr_Dieu" style="margin-right: 8px;"/>
			Guilde :<input class="perso-char-textbox" type="text" name="attr_Guilde" style="margin-right: 8px;"/><br>
			Poids :<input class="perso-char-textbox" type="text" name="attr_Pds" style="margin-right: 8px;"/>
			Taille :<input class="perso-char-textbox" type="text" name="attr_Taille" style="margin-right: 8px;"/>
			Lieu de Naissance :<input class="perso-char-textbox" type="text" name="attr_LieuN" style="margin-right: 8px;"/><br>
			Classe Sociale :<select class="perso-char-textbox" name="attr_ClasseSociale" style="margin-right: 8px;">
				<option value="0">-Choisir-</option>
                <option value="1">Paysannerie</option>
                <option value="2">Bourgeoisie</option>
                <option value="3">Noblesse</option>
                <option value="4">Chevalerie</option>
                <option value="5">Clergé</option>
            </select><br>
		</div>
		<br>
		<!--Fin Infos Personnage-->

		<div class='sheet-2colrow'>
			<!--Début Colonne Gauche-->
			<div class="sheet-col">
				<!--Début Caractéristiques-->
				<div>
					<div class="title" style="font-effect:engrave">Caractéristiques</div><br>
					<div class="dark_row" style="font-size:20px;line-height:25px;">
						<div  class="cell" style="margin-left: 30px; margin-top:10px;">FO</div>
						<div  class="cell" style="margin-left: 40px;">DEX</div>
						<div  class="cell" style="margin-left: 35px;">CON</div>
						<div  class="cell" style="margin-left: 35px;">PE</div>
						<br>
						<input class="textbox-stat" type="number" value="0" name="attr_FO"/>
						<input class="textbox-stat" type="number" value="0" name="attr_DEX"/>
						<input class="textbox-stat" type="number" value="0" name="attr_CON"/>
						<input class="textbox-stat" type="number" value="0" name="attr_PE"/>
						<br>
						<button  type="roll" style="margin-left:30px;" title="Force" name="roll_FO" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Force}} {{Carac=[[@{FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<button  type="roll" style="margin-left:40px;" title="Dexterité" name="roll_DEX" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Dexterité}} {{Carac=[[@{DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<button  type="roll" style="margin-left:45px;" title="Constitution" name="roll_CON" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Constitution}} {{Carac=[[@{CON}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<button  type="roll" style="margin-left:40px;" title="Perception" name="roll_PE" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Perception}} {{Carac=[[@{PE}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<br>
						<div  class="cell" style="margin-left: 30px;">ED</div>
						<div  class="cell" style="margin-left: 45px;">CH</div>
						<div  class="cell" style="margin-left: 50px;">PO</div>
						<div  class="cell" style="margin-left: 50px;">SF</div>
						<br>
						<input class="textbox-stat" type="number" value="0" name="attr_ED"/>
						<input class="textbox-stat" type="number" value="0" name="attr_CH"/>
						<input class="textbox-stat" type="number" value="0" name="attr_PO"/>
						<input class="textbox-stat" type="number" value="0" name="attr_SF"/>
						<br>
						<button  type="roll" style="margin-left:30px;"title="Education" name="roll_ED" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Education}} {{Carac=[[@{ED}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<button  type="roll" style="margin-left:40px;"title="Charisme" name="roll_CH" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Charisme}} {{Carac=[[@{CH}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<button  type="roll" style="margin-left:45px;"title="Pouvoir/Chance" name="roll_PO" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Pouvoir/Chance}} {{Carac=[[@{PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<button  type="roll" style="margin-left:40px;"title="Sang-Froid" name="roll_SF" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=Sang-Froid}} {{Carac=[[@{SF}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
						<br>
					</div><br>
				</div>
				<!--Fin Caractéristiques-->

                <!--Début Caractéristiques de race-->
				<div class="title" style="font-effect:engrave">Caractéristiques de race</div><br>
				<div class="sheet-wrapper1">
					<div class="char">
						<span style="margin-left: 90px;">Caractéristique</span>
						<span style="margin-left: 85px;">Bonus/Malus</span>
					</div><br>
					<div class="char">
                        <input class="textbox-carac" type="text" name="attr_CaracRace1" value="" readonly="readonly" style="margin-bottom: 4px;"/>
                        <input class="textbox-stat" type="number" name="attr_BonMalCarac1" readonly="readonly" style="margin-bottom: 4px;"/>
					</div><br>
					<div class="char">
                        <input class="textbox-carac" type="text" name="attr_CaracRace2" value="" readonly="readonly"/>
                        <input class="textbox-stat" type="number" name="attr_BonMalCarac2" readonly="readonly"/>
					</div>
				</div><br>
                <div class="title" style="font-effect:engrave" >Résistance Magique</div><br>
                <div class="sheet-wrapper1">
					<div class="char">
                        <div class="char"><span style="margin-left: 15px;">Résistance : </span><input class="textbox-carac" type="text" name="attr_ResistanceElem" value="" style="margin-left:15px; margin-bottom: 4px;" readonly="readonly"/></div>
					</div>
                    <div class="char">
                        <div class="char"><span style="margin-left: 15px;">Faiblesse : </span><input class="textbox-carac" type="text" name="attr_FaiblesseElem" value="" style="margin-left:24px;" readonly="readonly"/></div><br>
					</div>
				</div>
                <!--Fin Caractéristiques de race-->

				<!--Début Bourse -->
				<div  style="margin-top:20px;">
					<div class="title" style="font-effect:engrave" >Bourse</div><br>
					<div class="sheet-wrapper1">
						<div class="char">Pièces d'Or :<input class="textbox-stat" type="number" name="attr_PiO" style="text-align:center; margin-left:38px;"/></div>
					</div><br>
					<div class="sheet-wrapper1">
						<div class="char">Pièces d'Argent :<input class="textbox-stat" type="number" name="attr_PiA" style="text-align:center; margin-left:14px;"/></div>
					</div><br>
					<div class="sheet-wrapper1">
						<div class="char">Pièces de Cuivre :<input class="textbox-stat" type="number" name="attr_PiC" style="text-align:center;"/></div>
					</div><br>
				</div>
				<!-- Fin Bourse-->
			</div>
			<!--Fin Colonne Gauche-->

			<!--Début Colonne Droite-->
			<div class="sheet-col">
				<div class="title" style="font-effect:engrave" >Infos Partie</div><br>
				<div class="sheet-wrapper1">
					<div class="char">Nom Joueur :<input class="textbox" type="text" name="attr_PlayerName" style="margin-left: 6px;"/></div><br>
					<div class="char">Maitre de jeu :<input class="textbox" type="text" name="attr_GmName" style="margin-left: 2px;"/></div>
					<div class="char">Campagne :<input class="textbox" type="text" name="attr_CampaignName" style="margin-left: 14px;"/></div>
					<div class="char">Expérience :<input class="textbox" type="text" name="attr_NbXp" style="margin-left: 12px;"/></div>
					<div class="char">Niveau :<input class="textbox" type="text" name="attr_PlayerLvl" readonly="readonly" style="margin-left: 36px;"/></div>
				</div><br>

				<div class="title" style="font-effect:engrave">Santé</div>
				<div class="sheet-wrapper1">
					<div class="char">
						<div class="subtitle"><span style="margin-left: 125px;">Points de vie</span></div>
						<div class="char">
							<span style="margin-left: 115px;">Actuels</span>
							<span style="margin-left: 70px;">Total</span>
						</div>
						<div class="char">
							<input class="textbox-stat" type="number" name="attr_PdvActuel" style="text-align:center; margin-left:100px;"/>
							<input class="textbox-stat" type="number" name="attr_PdvTotal" style="text-align:center; margin-left:38px;" readonly="readonly"/>
						</div><br>
					</div><br><br>
					<div class="subtitle"><span style="margin-left: 150px;">Statut</span></div>
					<div class="char">
						<span style="margin-left: 35px;">Léger</span>
						<span style="margin-left: 64px;">Sérieux</span>
						<span style="margin-left: 60px;">Critique</span>
						<span style="margin-left: 50px;">Mortel</span>
					</div><br>
					<div class="char">
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="1"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="2"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="3"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="4"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="5"/>

						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="6" style="margin-left: 9px;"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="7"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="8"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="9"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="10"/>

						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="11" style="margin-left: 9px;"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="12"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="13"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="14"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="15"/>

						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="16" style="margin-left: 9px;"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="17"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="18"/>
						<input class="sheet-damage" type="checkbox" name="attr_Sante" value="19"/>
					</div><br><br>
					<div class="char">
						<span style="margin-left: 15px;">Effet :</span>
						<input class="textbox-sante" type="text" name="attr_EffetSante" value="" style="margin-left:10px; margin-bottom: 4px;" readonly="readonly"/>
						<inut type="hidden" name="attr_MalusSante" value=""/>
						<inut type="hidden" name="attr_ValSante" value=""/>
					</div>
				</div><br>

				<div class="title" style="font-effect:engrave">Attributs</div>
				<div class="sheet-wrapper1">
					<div class="char">
						<div class="subtitle"><span style="margin-left: 85px;">Honneur<span style="margin-left: 20px;">Affinité divine</span></span></div>
					</div><br>
					<div class="char">
						<input class="textbox-stat" type="number" name="attr_Honneur" style="margin-left: 100px;"/>
						<input class="textbox-stat" type="number" name="attr_AffDiv" style="margin-left:38px;"/>
					</div><br><br><br>
					<div class="char"><div class="subtitle"><span>Traits de caractères</span></div><textarea class="textareabox" type="text" name="attr_TraitsCarc"></textarea></div><br><br>
					<div class="char"><div class="subtitle"><span>Langage natif</span></div><input class="textbox-langagenatif" type="text" name="attr_LanguageNatif" style="margin-bottom: 12px;"></div>
					<div class="char"><div class="subtitle"><span>Langages parlés</span></div><textarea class="textareabox" type="text" name="attr_Language"></textarea></div>
				</div>
			</div>
			<!--Fin Colonne Droite-->
		</div>

		<!--Début Poids porté-->
		<div class="title" style="font-effect:engrave">Charge</div>
		<div class='sheet-3colrow'>
			<div class="sheet-col">
				<div class="sheet-wrapper1">
					<div class="dark_row" style="font-size:20px;line-height:25px;"><div class="arme-title" style="margin-left:70px; margin-top:10px;">Total</div></div><br>
					<div class="char">Tranportable : <input class="textbox-stat" type="number" name="attr_PdsTrans" value="(@{FO}*35)" disabled="true"/></div><br><br>
					<div class="char">Transporté : <input class="textbox-stat" type="number" name="attr_PdsPorteTot" style="margin-left:18px;" readonly="readonly"/></div><br><br>
				</div><br>
			</div>
			<div class="sheet-col">
				<div class="sheet-wrapper1">
					<div class="dark_row" style="font-size:20px;line-height:25px;"><div class="arme-title" style="margin-left:70px; margin-top:10px;">Armes</div></div><br>
					<div class="char">Corps à Corps : <input class="textbox-stat" type="number" name="attr_PdsPorteWeap" readonly="readonly"/></div><br><br>
					<div class="char">Distance : <input class="textbox-stat" type="number" name="attr_PdsPorteRangWeap" style="margin-left:40px;" readonly="readonly"/></div><br><br>
					<div class="char">Munitions : <input class="textbox-stat" type="number" name="attr_PdsPorteMun" style="margin-left:35px;" readonly="readonly"/></div><br><br>
				</div><br>
			</div>
			<div class="sheet-col">
				<div class="sheet-wrapper1">
					<div class="dark_row" style="font-size:20px;line-height:25px;"><div class="arme-title" style="margin-left:60px; margin-top:10px;">Autres</div></div><br>
					<div class="char">Equipement : <input class="textbox-stat" type="number" name="attr_PdsPorteEqp" readonly="readonly"/></div><br><br>
					<div class="char">Armure : <input class="textbox-stat" type="number" name="attr_PdsPorteArmor" style="margin-left:33px;" readonly="readonly"/></div><br>
				</div>
			</div>
		</div>
		<!--Fin poids porté-->

		<!--Début Compétences-->
		<div style="margin-left:5px; margin-top:40px">
			<div class="title" style="font-effect:engrave">Compétences</div>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:110px; margin-top:10px;">Compétence</div>
				<div  class="arme-title" style="margin-left:90px; margin-top:10px;">Caractéristique</div>
				<div  class="arme-title" style="margin-left:10px;">Bonus/Malus</div>
				<div  class="arme-title" style="margin-left:10px;">Description</div>
			</div>
			<fieldset class="repeating_comp">
				<div class="dark_row">
					<button type="roll" style="margin-left:0px;"title="Competence" name="roll_Comp" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=@{CompName&#125; }} {{Carac=[[@{CaracName}+@{CompBonusMalus}]]}}  {{Roll=[[1D100]]}} {{description=@{CompDescription&#125; }}"></button>
					<input class="textbox" type="text" name="attr_CompName" style="width:250px;margin-left:0px;"/>
					<select class="select" name="attr_CaracName" style="width:120px;margin-left:0px;">
						<option value="0">-Choisir-</option>
						<option value="@{FO}">Force</option>
						<option value="@{DEX}">Dextérité</option>
						<option value="@{CON}">Constitution</option>
						<option value="@{PE}">Perception</option>
						<option value="@{ED}">Education</option>
						<option value="@{CH}">Charisme</option>
						<option value="@{PO}">Pouvoir</option>
						<option value="@{SF}">Sang-Froid</option>
					</select>
					<input class="textbox" type="number" name="attr_CompBonusMalus" value="0" style="width:90px;text-align:center;"/>
					<textarea class="textareabox" type="text" name="attr_CompDescription" style="vertical-align: top; width: 300px;"></textarea>
				</div>
			</fieldset>
		</div>
		<!--Fin Compétences-->
	</div>
	<!--Fin feuille principale-->

	<!--Debut feuille equipement-->
	<div class="sheet-equipement" style="background-color:#926239">
		<div class="sheet-banner">
			<div style="width:241px; height:76px;"></div>
		</div>
		<!--Début Armes/Armures-->
		<br>
		<div style="margin-left:5px; margin-top:20px">
			<div class="title" style="font-effect:engrave" >Armes</div>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:100px; margin-top:10px;">Armes de Mêlée</div>
				<div  class="arme-title" style="margin-left:115px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:55px;">Poids</div>
				<div  class="arme-title" style="margin-left:42px;">Prix</div>
				<div  class="arme-title" style="margin-left:32px;">Porté</div>
			</div>
			<fieldset class="repeating_weapons">
				<div class="dark_row">
					<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Combat corps à corps" name="roll_Melee" value="&{template:degats} {{perso=@{Name&#125; }} {{name=@{ArmeNom&#125; }} {{Roll=[[@{ArmeDeg}d10+@{ArmeDegModif}]]}}"></button>
					<input class="textbox" type="text" name="attr_ArmeNom" style="width: 250px;margin-left: 0px;"/>
					<input class="textbox-stat" type="number" name="attr_ArmeDeg" style="width:40px;text-align:center;"> d10+</input>
					<input class="textbox-stat" type="number" name="attr_ArmeDegModif" style="width:40px;text-align:center;"/>
					<input class="textbox-stat" type="number" name="attr_ArmePds" style="width:70px;"/>
					<input class="textbox" type="text" name="attr_ArmePrix" style="width:80px;"/>
					<input type="checkbox" name="attr_WearWeap" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left: 90px; margin-top: 10px;">Armes à Distance</div>
				<div  class="arme-title" style="margin-left: 115px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:49px;">Portée</div>
				<div  class="arme-title" style="margin-left:25px;">Poids</div>
				<div  class="arme-title" style="margin-left:40px;">Prix</div>
				<div  class="arme-title" style="margin-left:32px;">Porté</div>
			</div>
			<fieldset class="repeating_rangedweapons">
				<div class="dark_row">
					<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Combat à distance" name="roll_Distance" value="&{template:degats} {{perso=@{Name&#125; }} {{name=@{RangedWeaponName&#125; }} {{Carac=[[@{DEX}]]}}  {{Roll=[[@{RangedWeaponDmg}d10+@{RangedWeaponDmgModif}]]}}"></button>
					<input class="textbox" type="text" name="attr_RangedWeaponName" style="width: 250px;margin-left: 0px;"/>
					<input class="textbox-stat" type="number" name="attr_RangedWeaponDmg" style="width: 40px;text-align: center;"> d10+</input>
					<input class="textbox-stat" type="number" name="attr_RangedWeaponDmgModif" style="width:40px;text-align:center;">
					<input class="textbox-stat" type="number" name="attr_RangedWeaponPortee" style="width:60px;text-align:center;"/>
					<input class="textbox-stat" type="number" name="attr_RangedWeaponPds" style="width:70px;"/>
					<input class="textbox" type="text" name="attr_RangedWeaponPrix" style="width:80px;"/>
					<input type="checkbox" name="attr_WearRgdWeap" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left: 120px; margin-top: 10px;">Munitions</div>
				<div  class="arme-title" style="margin-left: 135px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:60px;">Qté</div>
				<div  class="arme-title" style="margin-left:37px;">Poids</div>
				<div  class="arme-title" style="margin-left:35px;">Prix</div>
				<div  class="arme-title" style="margin-left:35px;">Porté</div>
			</div>
			<fieldset class="repeating_munitions">
				<div class="dark_row">
					<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Combat à distance" name="roll_Distance" value="&{template:degats} {{perso=@{Name&#125; }} {{name=@{RangedWeaponName&#125; }} {{Carac=[[@{DEX}]]}}  {{Roll=[[@{RangedWeaponDmg}d10+@{RangedWeaponDmgModif}]]}}"></button>
					<input class="textbox" type="text" name="attr_MunitionName" style="width: 250px;margin-left: 0px;"/>
					<input class="textbox-stat" type="number" name="attr_MunitionDmg" style="width: 40px;text-align: center;"> d10+</input>
					<input class="textbox-stat" type="number" name="attr_MunitionModif" style="width:40px;text-align:center;">
					<input class="textbox-stat" type="number" name="attr_MunitionQte" style="width:60px;text-align:center;"/>
					<input class="textbox-stat" type="number" name="attr_MunitionPds" style="width:65px;text-align:center;"/>
					<input class="textbox" type="text" name="attr_MunitionPrix" style="width:80px;"/>
					<input type="checkbox" name="attr_WearMunition" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
		</div>
		<div class="dark_row" style="margin-left:5px;">
			<div class="title" style="font-effect:engrave" >Armures</div>
			<div  class="arme-title" style="margin-left:95px;">Armure</div>
			<div  class="arme-title" style="margin-left:121px;">Pts d'Armure</div>
			<div  class="arme-title" style="margin-left:10px;">Parties Couvertes</div>
			<div  class="arme-title" style="margin-left:45px;">Poids</div>
			<div  class="arme-title" style="margin-left:60px;">Prix</div>
			<div  class="arme-title" style="margin-left:35px;">Porté</div>
		</div>
		<fieldset class="repeating_armor">
			<div class="dark_row">
				<input class="textbox" type="text" name="attr_ArmorName" style="width:250px;margin-left:5px;"/>
				<input class="textbox-stat" type="number" name="attr_ArmorPts" style="width:110px;text-align:center;"/>
				<select class="select" name="attr_ArmorCoverPart" style="width:120px;margin-left:0px;">
					<option value="0">-Choisir-</option>
					<option value="1">Tête</option>
					<option value="2">Torse</option>
					<option value="3">Bras</option>
					<option value="4">Main</option>
					<option value="5">Jambes</option>
					<option value="6">Pieds</option>
					<option value="7">Corps complet</option>
				</select>
				<input class="textbox-stat" type="number" name="attr_ArmorPds" style="width:110px;text-align:center;"/>
				<input class="textbox" type="text" name="attr_ArmorPrix" style="width:80px;"/>
				<input type="checkbox" name="attr_WearArmor" style="margin-left:20px;" value="1" checked >
			</div>
		</fieldset>
		<!--Fin Armes/Armures-->

		<!--Début Équipement-->
		<div class="dark_row" style="margin-left:5px;">
			<div class="title" style="font-effect:engrave" >Équipement</div>
			<div  class="arme-title" style="margin-left:105px;">Objet</div>
			<div  class="arme-title" style="margin-left:130px;">Qté</div>
			<div  class="arme-title" style="margin-left:40px;">Poids/u</div>
			<div  class="arme-title" style="margin-left:48px;">Localisation</div>
			<div  class="arme-title" style="margin-left:46px;">Prix</div>
			<div  class="arme-title" style="margin-left:46px;">Pds Total</div>
			<div  class="arme-title" style="margin-left:15px;">Porté</div>
			<fieldset class="repeating_inventory">
				<div class="dark_row">
					<input class="textbox" type="text" name="attr_EqpName" style="width:250px;"/>
					<input class="textbox-stat" type="number" name="attr_EqpQte" style="width:60px;text-align:center"/>
					<input class="textbox-stat" type="number" name="attr_EqpPds" style="width:80px;text-align:center"/>
					<select class="select" name="attr_EqpLoc" style="width:140px;text-align:center">
						<option value="0">-Choisir-</option>
						<option value="1">Sac</option>
						<option value="2">Dos</option>
						<option value="3">Sacoche</option>
						<option value="4">Ceinture</option>
						<option value="5">Poche</option>
						<option value="6">Bourse</option>
						<option value="7">Maison</option>
					</select>
					<input class="textbox" type="text" name="attr_EqpPrix" style="width:80px;text-align:center"/>
					<input class="textbox" type="number" name="attr_EqpPdsTot" value="(@{EqpPds}*@{EqpQte})" style="width:80px;text-align:center;" disabled="disabled">
					<input type="checkbox" name="attr_WearEqp" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
		</div>
		<!--Fin Équipement-->
	</div>
	<!--Fin feuille equipement-->

	<!--Debut feuille grimoire-->
	<div class="sheet-grimoire" style="background-color:#926239">
		<div class="sheet-banner">
			<div style="width:241px; height:76px;"></div>
		</div>
		<br>
		<!--Début Grimoire-->
		<div class="dark_row" style="margin-left:5px; margin-top: 15px;">
			<div class="title" style="font-effect:engrave" >Grimoire</div>
			<div  class="arme-title" style="margin-left:85px;">Nom du sort</div>
			<div  class="arme-title" style="margin-left:80px;">Niveau</div>
			<div  class="arme-title" style="margin-left:200px;">Description</div>
			<fieldset class="repeating_grimoire">
				<div class="dark_row">
					<button type="roll" style="margin-left:0px;"title="Sort" name="roll_Sort" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=@{SortName&#125; }} {{Carac=[[@{PO}]]}}  {{Roll=[[1D100]]}} {{description=@{SortDescription&#125; }}"></button>
					<input class="textbox" type="text" name="attr_SortName" style="width:205px;"/>
					<input class="textbox-stat" type="number" name="attr_SortLvl" style="width:50px;text-align:center"/>
					<textarea class="textareabox" type="text" name="attr_SortDescription" style="vertical-align: top; width:505px"></textarea>
				</div>
			</fieldset>
		</div>
		<!--Fin Grimoire-->

		<!--Début Familiers-->
		<div class="dark_row">
			<div class="title" style="font-effect:engrave" >Familiers</div>
			<fieldset class="repeating_fam">
				<div class="dark_row" style="font-size:20px;line-height:25px;">
					<div  class="arme-title" style="margin-left: 80px; margin-top: 10px;">Nom</div>
					<div  class="arme-title" style="margin-left: 55px;">Type</div>
					<div  class="arme-title" style="margin-left:18px;">Durée (tour)</div>
					<div  class="arme-title" style="margin-left:2px;">FO</div>
					<div  class="arme-title" style="margin-left:18px;">DEX</div>
					<div  class="arme-title" style="margin-left:18px;">PO</div>
					<div  class="arme-title" style="margin-left:18px;">CON</div>
					<div  class="arme-title" style="margin-left:18px;">PE</div>
					<div  class="arme-title" style="margin-left:80px;">Description</div>
				</div>
				<div class="dark_row">
					<button  type="roll" style="margin-left:5px;" title="InvocFam" name="roll_fam_Invoc" value="&{template:invocation} {{name=Familier}} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{description=@{famDescription&#125; }}"></button>
					<input class="textbox" type="text" name="attr_famName" style="width:120px;"/>
					<input class="textbox" type="text" name="attr_famType" style="width: 80px;text-align: center;"/>
					<input class="textbox" type="number" name="attr_famDuree" style="width:80px;text-align:center;"/>
					<input class="textbox" type="number" name="attr_famFO" style="width:50px;text-align:center;"/>
					<input class="textbox" type="number" name="attr_famDEX" style="width:50px;text-align:center;"/>
					<input class="textbox" type="number" name="attr_famPO" style="width:50px;"/>
					<input class="textbox" type="number" name="attr_famCON" style="width:50px;"/>
					<input class="textbox" type="number" name="attr_famPE" style="width:50px;"/>
					<textarea class="textareabox" type="text" name="attr_famDescription" style="vertical-align: top; width:210px"></textarea>
					<br>
					<button  type="roll" style="margin-left:335px;" title="FamForce" name="roll_fam_FO" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=Force}} {{Carac=[[@{FamFO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:25px;" title="FamDexterité" name="roll_fam_DEX" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=Dexterité}} {{Carac=[[@{FamDEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:23px;" title="FamPouvoir" name="roll_fam_PO" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=Pouvoir}} {{Carac=[[@{FamPO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:24px;" title="FamConstitution" name="roll_fam_CON" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=Constitution}} {{Carac=[[@{FamCON}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:22px;" title="FamPerception" name="roll_fam_PE" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=Perception}} {{Carac=[[@{FamPE}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				</div>
				<br>
				<div class="dark_row" style="font-size:20px;line-height:25px;">
					<div  class="arme-title" style="margin-left:105px; margin-top:10px;">Compétence</div>
					<div  class="arme-title" style="margin-left:80px; margin-top:10px;">Caractéristique</div>
					<div  class="arme-title" style="margin-left:2px;">Bonus/Malus</div>
					<div  class="arme-title" style="margin-left:90px;">Description</div>
					<fieldset class="repeating_famComp">
						<div class="dark_row">
							<button type="roll" style="margin-left:0px;"title="Competence Familier" name="roll_famComp" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=@{famCompName&#125; }} {{Carac=[[@{famCaracName}+@{famCompBonusMalus}]]}}  {{Roll=[[1D100]]}} {{description=@{famCompDescription&#125; }}"></button>
							<input class="textbox" type="text" name="attr_famCompName" style="width:250px;margin-left:0px;"/>
							<select class="select" name="attr_famCaracName" style="width:120px;margin-left:0px;">
								<option value="0">-Choisir-</option>
								<option value="@{famFO}">Force</option>
								<option value="@{famDEX}">Dextérité</option>
								<option value="@{famCON}">Constitution</option>
								<option value="@{famPE}">Perception</option>
								<option value="@{famPO}">Pouvoir</option>
							</select>
							<input class="textbox" type="number" name="attr_famCompBonusMalus" value="0" style="width:90px;text-align:center;"/>
							<textarea class="textareabox" type="text" name="attr_famCompDescription" style="vertical-align: top; width:290px"></textarea>
						</div>
					</fieldset>
				</div>
				<br>
				<div class="dark_row" style="font-size:20px;line-height:25px;">
					<div  class="arme-title" style="margin-left:110px; margin-top:10px;">Attaque</div>
					<div  class="arme-title" style="margin-left:165px;">Dégâts</div>
					<div  class="arme-title" style="margin-left:180px;">Description</div>
					<fieldset class="repeating_famAttack">
						<div class="dark_row">
							<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Attaque Familier" name="roll_famAttack" value="&{template:degats} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=@{famAttackNom&#125; }} {{Roll=[[@{famAttackDeg}d10+@{famAttackDegModif}]]}} {{description=@{famAttackDescription&#125; }}"></button>
							<input class="textbox" type="text" name="attr_famAttackNom" style="width: 250px;margin-left: 0px;"/>
							<input class="textbox-stat" type="number" name="attr_famAttackDeg" style="width:40px;text-align:center;">d10+</input>
							<input class="textbox-stat" type="number" name="attr_famAttackDegModif" style="width:40px;text-align:center;"/>
							<textarea class="textareabox" type="text" name="attr_famAttackDescription" style="vertical-align: top; width:353px"></textarea>
						</div>
					</fieldset>
				</div>
				<br>
				<div class="dark_row" style="margin-left:5px;">
					<div  class="arme-title" style="margin-left:85px;">Nom du sort</div>
					<div  class="arme-title" style="margin-left:65px;">Niveau</div>
					<div  class="arme-title" style="margin-left:210px;">Description</div>
					<fieldset class="repeating_famGrimoire">
						<div class="dark_row">
							<button type="roll" style="margin-left:0px;"title="Sort Familier" name="roll_Sort" value="&{template:enyllion} {{perso=@{Name&#125; }} {{familier=@{famName&#125; }} {{name=@{famSortName&#125; }} {{Carac=[[@{famPO}]]}}  {{Roll=[[1D100]]}} {{description=@{famSortDescription&#125; }}"></button>
							<input class="textbox" type="text" name="attr_famSortName" style="width:205px;"/>
							<input class="textbox-stat" type="number" name="attr_famSortLvl" style="width:50px;text-align:center"/>
							<textarea class="textareabox" type="text" name="attr_famSortDescription" style="vertical-align: top; width:505px"></textarea>
						</div>
					</fieldset>
				</div>
			</fieldset>
		</div>
		<!--Fin Familiers-->

		<!--Debut relations-->
		<div class="dark_row" style="margin-left:5px; margin-top: 45px;">
			<div class="title" style="font-effect:engrave">Relations</div>
			<div  class="arme-title" style="margin-left:62px;">Nom</div>
			<div  class="arme-title" style="margin-left:93px;">Loyauté</div>
			<div  class="arme-title" style="margin-left:40px;">Localisation</div>
			<div  class="arme-title" style="margin-left:210px;">Description</div>
		</div>
		<fieldset class="repeating_relation">
			<div class="dark_row">
				<input class="textbox" type="text" name="attr_RelationName" style="width:175px;margin-left:5px;"/>
				<select class="select" name="attr_RelationLoyalty" style="width:80px;margin-left:0px;">
					<option value="0">-Choisir-</option>
					<option value="1">Loyal</option>
					<option value="2">Amical</option>
					<option value="3">Neutre</option>
					<option value="4">Ennemi</option>
				</select>
				<input class="textbox" type="text" name="attr_RelationLoca" style="width:150px;margin-left:5px;"/>
				<textarea class="textareabox" type="text" name="attr_RelationDescription" style="vertical-align: top; width: 385px;"></textarea>
			</div>
		</fieldset>
        <!--Fin relations-->
	</div>
	<!--Fin feuille grimoire-->
</div>
<!--Fin Feuille de perso PJ-->

<!--Début Feuille de perso PNJ-->
<div class="sheet-tab-content sheet-tab2" style="background-color:#926239">
	<input type="hidden" class="sheet-tabstoggle" name="attr_PNJ_sheetTab"  value="principal"  />
	<div>
		<button type="action" name="act_PNJ_principal" >Principal</button>
		<button type="action" name="act_PNJ_equipement" >Equipement</button>
		<button type="action" name="act_PNJ_grimoire" >Grimoire et familiers</button>
	</div>

	<div class="sheet-banner">
		<div style="width:241px; height:76px;"></div>
	</div>
	<!--debut feuille principale-->
	<div class="sheet-PNJ_principal" style="background-color:#926239">
		<!--Début Infos Personnage-->
		<div class="title" style="font-effect:engrave; margin-top: 25px;">PNJ</div><br>
		<div class="perso-char">
			Nom :<input class="perso-char-textbox" type="text" name="attr_NamePNJ" style="margin-right: 8px;"/>
			Race :<select class="perso-char-textbox" name="attr_RacePNJ" style="margin-right: 8px;">
                <option value="0">-Choisir-</option>
                <option value="1">Humain</option>
                <option value="2">Nain</option>
                <option value="3">Elfe</option>
                <option value="4">Demi-Elfe</option>
                <option value="5">Saurien</option>
                <option value="6">Demi-Ork</option>
                <option value="7">Felika</option>
                <option value="8">Vampire</option>
                <option value="9">Lycan</option>
                <option value="10">Succube</option>
                <option value="11">Animorphe</option>
            </select>
			Classe :<select class="perso-char-textbox" name="attr_ClassePNJ" style="margin-right: 8px;">
				<option value="0">-Choisir-</option>
                <option value="1">Aventurier</option>
                <option value="2">Barbare</option>
                <option value="3">Marchand</option>
                <option value="4">Chevalier</option>
                <option value="5">Sentinelle de la lumière</option>
                <option value="6">Druide</option>
                <option value="7">Dévot</option>
                <option value="8">Mage</option>
                <option value="9">Roublard</option>
                <option value="10">Spadassin</option>
            </select><br>
			Âge :<input class="perso-char-textbox" type="text" name="attr_AgePNJ" style="margin-right: 8px;"/>
			Sexe :<input class="perso-char-textbox" type="text" name="attr_SexePNJ" style="margin-right: 8px;"/>
			Spécialité :<input class="perso-char-textbox" type="text" name="attr_SpePNJ" style="margin-right: 8px;"/><br>
			Ethnie :<input class="perso-char-textbox" type="text" name="attr_EthniePNJ" style="margin-right: 8px;"/>
			Divinité :<input class="perso-char-textbox" type="text" name="attr_DieuPNJ" style="margin-right: 8px;"/>
			Guilde :<input class="perso-char-textbox" type="text" name="attr_GuildePNJ" style="margin-right: 8px;"/><br>
		</div>
		<!--Fin Infos Personnage-->
		<br>

		<!--Début Caractéristiques-->
		<div class="char">
			<div class="char"><span style="margin-left: 15px;">Gain XP : </span><input class="textbox-stat" type="number" value="0" name="attr_GainXP"/></div><br>
		</div>
		<div class="sheet-wrapper1">
			<div class="title" style="font-effect:engrave">Caractéristiques</div><br>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="cell" style="margin-left: 30px; margin-top:10px;">FO</div>
				<div  class="cell" style="margin-left: 40px;">DEX</div>
				<div  class="cell" style="margin-left: 35px;">CON</div>
				<div  class="cell" style="margin-left: 35px;">PE</div>
				<div  class="cell" style="margin-left: 30px;">ED</div>
				<div  class="cell" style="margin-left: 45px;">CH</div>
				<div  class="cell" style="margin-left: 50px;">PO</div>
				<div  class="cell" style="margin-left: 50px;">SF</div>
				<br>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_FO"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_DEX"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_CON"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_PE"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_ED"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_CH"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_PO"/>
				<input class="textbox-stat" type="number" value="0" name="attr_PNJ_SF"/>
				<br>
				<button  type="roll" style="margin-left:28px;" title="Force" name="roll_PNJ_FO" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Force}} {{Carac=[[@{PNJ_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:42px;" title="Dexterité" name="roll_PNJ_DEX" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Dexterité}} {{Carac=[[@{PNJ_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:42px;" title="Constitution" name="roll_PNJ_CON" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Constitution}} {{Carac=[[@{PNJ_CON}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:45px;" title="Perception" name="roll_PNJ_PE" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Perception}} {{Carac=[[@{PNJ_PE}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:42px;"title="Education" name="roll_PNJ_ED" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Education}} {{Carac=[[@{PNJ_ED}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:42px;"title="Charisme" name="roll_PNJ_CH" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Charisme}} {{Carac=[[@{PNJ_CH}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:45px;"title="Pouvoir/Chance" name="roll_PNJ_PO" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Pouvoir/Chance}} {{Carac=[[@{PNJ_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button  type="roll" style="margin-left:42px;"title="Sang-Froid" name="roll_PNJ_SF" value="&{template:enyllion} {{perso=@{NamePNJ&#125; }} {{name=Sang-Froid}} {{Carac=[[@{PNJ_SF}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<br>
			</div><br>
		</div><br>
		<!--Fin Caractéristiques-->

		<div class='sheet-2colrow'>
			<!--Début Colonne Gauche-->
			<div class="sheet-col">
				<div class="title" style="font-effect:engrave">Santé</div><br>
				<div class="sheet-wrapper1">
					<div class="char">
						<div class="subtitle"><span style="margin-left: 125px;">Points de vie</span></div>
						<div class="char">
							<span style="margin-left: 115px;">Actuels</span>
							<span style="margin-left: 70px;">Total</span>
						</div>
						<div class="char">
							<input class="textbox-stat" type="number" name="attr_PnjPdvActuel" style="text-align:center; margin-left:100px;"/>
							<input class="textbox-stat" type="number" name="attr_PnjPdvTotal" style="text-align:center; margin-left:38px;"/>
						</div><br>
					</div><br><br>
					<div class="subtitle"><span style="margin-left: 150px;">Statut</span></div>
					<div class="char">
						<span style="margin-left: 35px;">Léger</span>
						<span style="margin-left: 64px;">Sérieux</span>
						<span style="margin-left: 60px;">Critique</span>
						<span style="margin-left: 50px;">Mortel</span>
					</div><br>
					<div class="char">
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="1"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="2"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="3"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="4"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="5"/>

						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="6" style="margin-left: 9px;"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="7"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="8"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="9"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="10"/>

						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="11" style="margin-left: 9px;"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="12"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="13"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="14"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="15"/>

						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="16" style="margin-left: 9px;"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="17"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="18"/>
						<input class="sheet-damage" type="checkbox" name="attr_PnjSante" value="19"/>
					</div><br><br>
					<div class="char">
						<span style="margin-left: 15px;">Effet :</span>
						<input class="textbox-sante" type="text" name="attr_PnjEffetSante" value="" style="margin-left:10px; margin-bottom: 4px;" readonly="readonly"/>
						<inut type="hidden" name="attr_PnjMalusSante" value=""/>
						<inut type="hidden" name="attr_PnjValSante" value=""/>
					</div>
				</div>
			</div>
			<!--Fin Colonne Gauche-->

			<!--Début Colonne Droite-->
			<div class="sheet-col">
				<div class="title" style="font-effect:engrave">Attributs</div><br>
				<div class="sheet-wrapper1">
					<div class="char"><span>Langages parlés</span><textarea class="textareabox" type="text" name="attr_LanguagePNJ"></textarea></div><br>
				</div><br>
				<div class="title" style="font-effect:engrave" >Résistance Magique</div><br>
                <div class="sheet-wrapper1">
					<div class="char">
                        <div class="char"><span style="margin-left: 15px;">Résistance : </span><input class="textbox-carac" type="text" name="attr_ResistanceElemPNJ" value="" style="margin-left:15px; margin-bottom: 4px;" readonly="readonly"/></div>
					</div>
                    <div class="char">
                        <div class="char"><span style="margin-left: 15px;">Faiblesse : </span><input class="textbox-carac" type="text" name="attr_FaiblesseElemPNJ" value="" style="margin-left:24px;" readonly="readonly"/></div><br>
					</div>
				</div>
			</div>
			<!--Fin Colonne Droite-->
		</div>

		<!--Début Compétences-->
		<div style="margin-left:5px; margin-top:40px">
			<div class="title" style="font-effect:engrave">Compétences</div>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:110px; margin-top:10px;">Compétence</div>
				<div  class="arme-title" style="margin-left:90px; margin-top:10px;">Caractéristique</div>
				<div  class="arme-title" style="margin-left:10px;">Bonus/Malus</div>
				<div  class="arme-title" style="margin-left:10px;">Description</div>
			</div>
			<fieldset class="repeating_PNJ_comp">
				<div class="dark_row">
					<button type="roll" style="margin-left:0px;"title="Competence" name="roll_PNJ_Comp" value="&{template:enyllion} {{perso=@{Name&#125; }} {{name=@{PNJ_CompName&#125; }} {{Carac=[[@{PNJ_CaracName}+@{PNJ_CompBonusMalus}]]}}  {{Roll=[[1D100]]}} {{description=@{PNJ_CompDescription&#125; }}"></button>
					<input class="textbox" type="text" name="attr_PNJ_CompName" style="width:250px;margin-left:0px;"/>
					<select class="select" name="attr_PNJ_CaracName" style="width:120px;margin-left:0px;">
						<option value="0">-Choisir-</option>
						<option value="@{PNJ_FO}">Force</option>
						<option value="@{PNJ_DEX}">Dextérité</option>
						<option value="@{PNJ_CON}">Constitution</option>
						<option value="@{PNJ_PE}">Perception</option>
						<option value="@{PNJ_ED}">Education</option>
						<option value="@{PNJ_CH}">Charisme</option>
						<option value="@{PNJ_PO}">Pouvoir</option>
						<option value="@{PNJ_SF}">Sang-Froid</option>
					</select>
					<input class="textbox" type="number" name="attr_PNJ_CompBonusMalus" value="0" style="width:90px;text-align:center;"/>
					<textarea class="textareabox" type="text" name="attr_PNJ_CompDescription" style="vertical-align: top; width: 300px;"></textarea>
				</div>
			</fieldset>
		</div>
		<!--Fin Compétences-->
	</div>
	<!--Fin feuille principale-->

	<!--Debut feuille equipement-->
	<div class="sheet-PNJ_equipement" style="background-color:#926239">
		<div class="sheet-banner">
			<div style="width:241px; height:76px;"></div>
		</div>
		<!--Début Armes-->
		<br>
		<div style="margin-left:5px; margin-top:20px">
			<div class="title" style="font-effect:engrave" >Armes</div>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:100px; margin-top:10px;">Armes de Mêlée</div>
				<div  class="arme-title" style="margin-left:115px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:55px;">Poids</div>
				<div  class="arme-title" style="margin-left:42px;">Prix</div>
				<div  class="arme-title" style="margin-left:32px;">Porté</div>
			</div>
			<fieldset class="repeating_PNJ_weapons">
				<div class="dark_row">
					<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Combat corps à corps" name="roll_PNJ_Melee" value="&{template:degats} {{perso=@{PNJ_Name&#125; }} {{name=@{PNJ_ArmeNom&#125; }} {{Roll=[[@{PNJ_ArmeDeg}d10+@{PNJ_ArmeDegModif}]]}}"></button>
					<input class="textbox" type="text" name="attr_PNJ_ArmeNom" style="width: 250px;margin-left: 0px;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_ArmeDeg" style="width:40px;text-align:center;"> d10+</input>
					<input class="textbox-stat" type="number" name="attr_PNJ_ArmeDegModif" style="width:40px;text-align:center;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_ArmePds" style="width:70px;"/>
					<input class="textbox" type="text" name="attr_PNJ_ArmePrix" style="width:80px;"/>
					<input type="checkbox" name="attr_PNJ_WearWeap" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left: 90px; margin-top: 10px;">Armes à Distance</div>
				<div  class="arme-title" style="margin-left: 115px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:49px;">Portée</div>
				<div  class="arme-title" style="margin-left:14px;">Qté mun.</div>
				<div  class="arme-title" style="margin-left:25px;">Poids</div>
				<div  class="arme-title" style="margin-left:40px;">Prix</div>
				<div  class="arme-title" style="margin-left:32px;">Porté</div>
			</div>
			<fieldset class="repeating_PNJ_rangedweapons">
				<div class="dark_row">
					<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Combat à distance" name="roll_PNJ_Distance" value="&{template:degats} {{perso=@{PNJ_Name&#125; }} {{name=@{PNJ_RangedWeaponName&#125; }} {{Carac=[[@{PNJ_DEX}]]}}  {{Roll=[[@{PNJ_RangedWeaponDmg}d10+@{PNJ_RangedWeaponDmgModif}]]}}"></button>
					<input class="textbox" type="text" name="attr_PNJ_RangedWeaponName" style="width: 250px;margin-left: 0px;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_RangedWeaponDmg" style="width: 40px;text-align: center;"> d10+</input>
					<input class="textbox-stat" type="number" name="attr_PNJ_RangedWeaponDmgModif" style="width:40px;text-align:center;">
					<input class="textbox-stat" type="number" name="attr_PNJ_RangedWeaponPortee" style="width:60px;text-align:center;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_RangedWeaponQteMun" style="width:65px;text-align:center;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_RangedWeaponPds" style="width:70px;"/>
					<input class="textbox" type="text" name="attr_PNJ_RangedWeaponPrix" style="width:80px;"/>
					<input type="checkbox" name="attr_PNJ_WearRgdWeap" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
		</div>
        <!--Fin Armes-->

        <!--Début Armures-->
		<div class="dark_row" style="margin-left:5px;">
			<div class="title" style="font-effect:engrave" >Armures</div>
			<div  class="arme-title" style="margin-left:95px;">Armure</div>
			<div  class="arme-title" style="margin-left:121px;">Pts d'Armure</div>
			<div  class="arme-title" style="margin-left:10px;">Parties Couvertes</div>
			<div  class="arme-title" style="margin-left:45px;">Poids</div>
			<div  class="arme-title" style="margin-left:60px;">Prix</div>
			<div  class="arme-title" style="margin-left:35px;">Porté</div>
		</div>
		<fieldset class="repeating_PNJ_armor">
			<div class="dark_row">
				<input class="textbox" type="text" name="attr_PNJ_ArmorName" style="width:250px;margin-left:5px;"/>
				<input class="textbox-stat" type="number" name="attr_PNJ_ArmorPts" style="width:110px;text-align:center;"/>
				<select class="select" name="attr_PNJ_ArmorCoverPart" style="width:120px;margin-left:0px;">
					<option value="0">-Choisir-</option>
					<option value="1">Tête</option>
					<option value="2">Torse</option>
					<option value="3">Bras</option>
					<option value="4">Main</option>
					<option value="5">Jambes</option>
					<option value="6">Pieds</option>
					<option value="7">Corps complet</option>
				</select>
				<input class="textbox-stat" type="number" name="attr_PNJ_ArmorPds" style="width:110px;text-align:center;"/>
				<input class="textbox" type="text" name="attr_PNJ_ArmorPrix" style="width:80px;"/>
				<input type="checkbox" name="attr_PNJ_WearArmor" style="margin-left:20px;" value="1" checked >
			</div>
		</fieldset>
		<!--Fin Armures-->

		<!--Début Équipement-->
		<div class="dark_row" style="margin-left:5px;">
			<div class="title" style="font-effect:engrave" >Équipement</div>
			<div  class="arme-title" style="margin-left:105px;">Objet</div>
			<div  class="arme-title" style="margin-left:130px;">Qté</div>
			<div  class="arme-title" style="margin-left:40px;">Poids/u</div>
			<div  class="arme-title" style="margin-left:48px;">Localisation</div>
			<div  class="arme-title" style="margin-left:46px;">Prix</div>
			<div  class="arme-title" style="margin-left:46px;">Pds Total</div>
			<div  class="arme-title" style="margin-left:15px;">Porté</div>
			<fieldset class="repeating_PNJ_inventory">
				<div class="dark_row">
					<input class="textbox" type="text" name="attr_PNJ_EqpName" style="width:250px;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_EqpQte" style="width:60px;text-align:center"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_EqpPds" style="width:80px;text-align:center"/>
					<select class="select" name="attr_PNJ_EqpLoc" style="width:140px;text-align:center">
						<option value="0">-Choisir-</option>
						<option value="1">Sac</option>
						<option value="2">Dos</option>
						<option value="3">Sacoche</option>
						<option value="4">Ceinture</option>
						<option value="5">Poche</option>
						<option value="6">Bourse</option>
						<option value="7">Maison</option>
					</select>
					<input class="textbox" type="text" name="attr_PNJ_EqpPrix" style="width:80px;text-align:center"/>
					<input class="textbox" type="number" name="attr_PNJ_EqpPdsTot" value="(@{PNJ_EqpPds}*@{PNJ_EqpQte})" style="width:80px;text-align:center;" disabled="disabled">
					<input type="checkbox" name="attr_PNJ_WearEqp" style="margin-left:20px;" value="1" checked >
				</div>
			</fieldset>
		</div>
		<!--Fin Équipement-->
	</div>
	<!--Fin feuille equipement-->

	<!--Debut feuille grimoire-->
	<div class="sheet-PNJ_grimoire" style="background-color:#926239">
		<div class="sheet-banner">
			<div style="width:241px; height:76px;"></div>
		</div>
		<br>
		<!--Début Grimoire-->
		<div class="dark_row" style="margin-left:5px; margin-top: 15px;">
			<div class="title" style="font-effect:engrave" >Grimoire</div>
			<div  class="arme-title" style="margin-left:85px;">Nom du sort</div>
			<div  class="arme-title" style="margin-left:80px;">Niveau</div>
			<div  class="arme-title" style="margin-left:200px;">Description</div>
			<fieldset class="repeating_PNJ_grimoire">
				<div class="dark_row">
					<button type="roll" style="margin-left:0px;"title="Sort PNJ" name="roll_PNJ_Sort" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{name=@{PNJ_SortName&#125; }} {{Carac=[[@{PNJ_PO}]]}}  {{Roll=[[1D100]]}} {{description=@{PNJ_SortDescription&#125; }}"></button>
					<input class="textbox" type="text" name="attr_PNJ_SortName" style="width:205px;"/>
					<input class="textbox-stat" type="number" name="attr_PNJ_SortLvl" style="width:50px;text-align:center"/>
					<textarea class="textareabox" type="text" name="attr_PNJ_SortDescription" style="vertical-align: top; width:505px"></textarea>
				</div>
			</fieldset>
		</div>
		<!--Fin Grimoire-->

		<!--Début Familiers-->
		<div class="dark_row">
			<div class="title" style="font-effect:engrave" >Familiers</div>
			<fieldset class="repeating_PNJ_fam">
				<div class="dark_row" style="font-size:20px;line-height:25px;">
					<div  class="arme-title" style="margin-left: 80px; margin-top: 10px;">Nom</div>
					<div  class="arme-title" style="margin-left: 55px;">Type</div>
					<div  class="arme-title" style="margin-left:18px;">Durée (tour)</div>
					<div  class="arme-title" style="margin-left:2px;">FO</div>
					<div  class="arme-title" style="margin-left:18px;">DEX</div>
					<div  class="arme-title" style="margin-left:18px;">PO</div>
					<div  class="arme-title" style="margin-left:18px;">CON</div>
					<div  class="arme-title" style="margin-left:18px;">PE</div>
					<div  class="arme-title" style="margin-left:80px;">Description</div>
				</div>
				<div class="dark_row">
					<button  type="roll" style="margin-left:5px;" title="InvocPnjFam" name="roll_PNJ_fam_Invoc" value="&{template:invocation} {{name=Familier}} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{description=@{PNJ_famDescription&#125; }}"></button>
					<input class="textbox" type="text" name="attr_PNJ_famName" style="width:120px;"/>
					<input class="textbox" type="text" name="attr_PNJ_famType" style="width: 80px;text-align: center;"/>
					<input class="textbox" type="number" name="attr_PNJ_famDuree" style="width:80px;text-align:center;"/>
					<input class="textbox" type="number" name="attr_PNJ_famFO" style="width:50px;text-align:center;"/>
					<input class="textbox" type="number" name="attr_PNJ_famDEX" style="width:50px;text-align:center;"/>
					<input class="textbox" type="number" name="attr_PNJ_famPO" style="width:50px;"/>
					<input class="textbox" type="number" name="attr_PNJ_famCON" style="width:50px;"/>
					<input class="textbox" type="number" name="attr_PNJ_famPE" style="width:50px;"/>
					<textarea class="textareabox" type="text" name="attr_PNJ_famDescription" style="vertical-align: top; width:210px"></textarea>
					<br>
					<button  type="roll" style="margin-left:335px;" title="FamForce" name="roll_PNJ_fam_FO" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=Force}} {{Carac=[[@{PNJ_FamFO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:25px;" title="FamDexterité" name="roll_PNJ_fam_DEX" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=Dexterité}} {{Carac=[[@{PNJ_FamDEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:23px;" title="FamPouvoir" name="roll_PNJ_fam_PO" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=Pouvoir}} {{Carac=[[@{PNJ_FamPO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:24px;" title="FamConstitution" name="roll_PNJ_fam_CON" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=Constitution}} {{Carac=[[@{PNJ_FamCON}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
					<button  type="roll" style="margin-left:22px;" title="FamPerception" name="roll_PNJ_fam_PE" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=Perception}} {{Carac=[[@{PNJ_FamPE}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				</div>
				<br>
				<div class="dark_row" style="font-size:20px;line-height:25px;">
					<div  class="arme-title" style="margin-left:105px; margin-top:10px;">Compétence</div>
					<div  class="arme-title" style="margin-left:80px; margin-top:10px;">Caractéristique</div>
					<div  class="arme-title" style="margin-left:2px;">Bonus/Malus</div>
					<div  class="arme-title" style="margin-left:90px;">Description</div>
					<fieldset class="repeating_PNJ_famComp">
						<div class="dark_row">
							<button type="roll" style="margin-left:0px;"title="Competence Familier" name="roll_PNJ_famComp" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=@{PNJ_famCompName&#125; }} {{Carac=[[@{PNJ_famCaracName}+@{PNJ_famCompBonusMalus}]]}}  {{Roll=[[1D100]]}} {{description=@{PNJ_famCompDescription&#125; }}"></button>
							<input class="textbox" type="text" name="attr_PNJ_famCompName" style="width:250px;margin-left:0px;"/>
							<select class="select" name="attr_PNJ_famCaracName" style="width:120px;margin-left:0px;">
								<option value="0">-Choisir-</option>
								<option value="@{PNJ_famFO}">Force</option>
								<option value="@{PNJ_famDEX}">Dextérité</option>
								<option value="@{PNJ_famCON}">Constitution</option>
								<option value="@{PNJ_famPE}">Perception</option>
								<option value="@{PNJ_famPO}">Pouvoir</option>
							</select>
							<input class="textbox" type="number" name="attr_PNJ_famCompBonusMalus" value="0" style="width:90px;text-align:center;"/>
							<textarea class="textareabox" type="text" name="attr_PNJ_famCompDescription" style="vertical-align: top; width:290px"></textarea>
						</div>
					</fieldset>
				</div>
				<br>
				<div class="dark_row" style="font-size:20px;line-height:25px;">
					<div  class="arme-title" style="margin-left:110px; margin-top:10px;">Attaque</div>
					<div  class="arme-title" style="margin-left:165px;">Dégâts</div>
					<div  class="arme-title" style="margin-left:180px;">Description</div>
					<fieldset class="repeating_famAttack">
						<div class="dark_row">
							<button  type="roll" style="margin-left:0px;line-height:10px;height:20px;margin-bottom:2px;" title="Attaque Familier" name="roll_PNJ_famAttack" value="&{template:degats} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=@{PNJ_famAttackNom&#125; }} {{Roll=[[@{PNJ_famAttackDeg}d10+@{PNJ_famAttackDegModif}]]}} {{description=@{PNJ_famAttackDescription&#125; }}"></button>
							<input class="textbox" type="text" name="attr_PNJ_famAttackNom" style="width: 250px;margin-left: 0px;"/>
							<input class="textbox-stat" type="number" name="attr_PNJ_famAttackDeg" style="width:40px;text-align:center;">d10+</input>
							<input class="textbox-stat" type="number" name="attr_PNJ_famAttackDegModif" style="width:40px;text-align:center;"/>
							<textarea class="textareabox" type="text" name="attr_PNJ_famAttackDescription" style="vertical-align: top; width:353px"></textarea>
						</div>
					</fieldset>
				</div>
				<br>
				<div class="dark_row" style="margin-left:5px;">
					<div  class="arme-title" style="margin-left:85px;">Nom du sort</div>
					<div  class="arme-title" style="margin-left:65px;">Niveau</div>
					<div  class="arme-title" style="margin-left:210px;">Description</div>
					<fieldset class="repeating_PNJ_famGrimoire">
						<div class="dark_row">
							<button type="roll" style="margin-left:0px;"title="Sort Familier" name="roll_PNJ_Sort" value="&{template:enyllion} {{perso=@{PNJ_Name&#125; }} {{familier=@{PNJ_famName&#125; }} {{name=@{PNJ_famSortName&#125; }} {{Carac=[[@{PNJ_famPO}]]}}  {{Roll=[[1D100]]}} {{description=@{PNJ_famSortDescription&#125; }}"></button>
							<input class="textbox" type="text" name="attr_PNJ_famSortName" style="width:205px;"/>
							<input class="textbox-stat" type="number" name="attr_PNJ_famSortLvl" style="width:50px;text-align:center"/>
							<textarea class="textareabox" type="text" name="attr_PNJ_famSortDescription" style="vertical-align: top; width:505px"></textarea>
						</div>
					</fieldset>
				</div>
			</fieldset>
		</div>
		<!--Fin Familiers-->

		<!--Debut relations-->
		<div class="dark_row" style="margin-left:5px; margin-top: 45px;">
			<div class="title" style="font-effect:engrave">Relations</div>
			<div  class="arme-title" style="margin-left:62px;">Nom</div>
			<div  class="arme-title" style="margin-left:93px;">Loyauté</div>
			<div  class="arme-title" style="margin-left:40px;">Localisation</div>
			<div  class="arme-title" style="margin-left:210px;">Description</div>
		</div>
		<fieldset class="repeating_PNJ_relation">
			<div class="dark_row">
				<input class="textbox" type="text" name="attr_PNJ_RelationName" style="width:175px;margin-left:5px;"/>
				<select class="select" name="attr_PNJ_RelationLoyalty" style="width:80px;margin-left:0px;">
					<option value="0">-Choisir-</option>
					<option value="1">Loyal</option>
					<option value="2">Amical</option>
					<option value="3">Neutre</option>
					<option value="4">Ennemi</option>
				</select>
				<input class="textbox" type="text" name="attr_PNJ_RelationLoca" style="width:150px;margin-left:5px;"/>
				<textarea class="textareabox" type="text" name="attr_PNJ_RelationDescription" style="vertical-align: top; width: 385px;"></textarea>
			</div>
		</fieldset>
	</div>
</div>
<!--Fin Feuille de perso PNJ-->

<!--Début bestiaire-->
<div class="sheet-tab-content sheet-tab3" style="background-color:#926239">
	<div class="sheet-banner">
		<div style="width:241px; height:76px;"></div>
	</div>
	<br>
	<div class="char" style="color: black; font-weight: bold; font-size: large;">Niveau du groupe : <input class="textbox-stat" type="number" name="attr_nvgroupe" value="1"/></div><br><br>
	<div class="dark_row">
		<div class="title" style="font-effect:engrave; margin-top:35px;">Enahora</div>
		<fieldset class="repeating_En">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="bestiaireEnDesc" name="roll_En_desc" value="&{template:bestiaire} {{name=@{En_name&#125; }} {{image=[Image](@{En_image})}} {{description=@{En_Description&#125; }} {{carac1=@{En_FO&#125; }} {{carac2=@{En_DEX&#125; }} {{carac3=@{En_PO&#125; }} {{pdv=@{En_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_En_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_En_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_En_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_En_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_En_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_En_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_En_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_En_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_En_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="bestiaireEnForce" name="roll_En_FO" value="&{template:enyllion} {{perso=@{En_name&#125; }} {{name=Force}} {{Carac=[[@{En_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireEnDexterité" name="roll_En_DEX" value="&{template:enyllion} {{perso=@{En_name&#125; }} {{name=Dexterité}} {{Carac=[[@{En_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireEnPouvoir" name="roll_En_PO" value="&{template:enyllion} {{perso=@{En_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{En_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="bestiaireEnDegats" name="roll_En_Degats" value="&{template:degats} {{perso=@{En_name&#125; }} {{name=Dégats}} {{Roll=[[@{En_Deg}d10+@{En_DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_En_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
				</div>
			<br>
			<br>
		</fieldset>
		<div class="title" style="font-effect:engrave; margin-top:35px;">Kyoshi</div>
		<fieldset class="repeating_Ky">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="bestiaireKyDesc" name="roll_Ky_desc" value="&{template:bestiaire} {{name=@{Ky_name&#125; }} {{image=[Image](@{Ky_image})}} {{description=@{Ky_Description&#125; }} {{carac1=@{Ky_FO&#125; }} {{carac2=@{Ky_DEX&#125; }} {{carac3=@{Ky_PO&#125; }} {{pdv=@{Ky_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_Ky_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_Ky_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Ky_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Ky_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_Ky_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_Ky_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Ky_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_Ky_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_Ky_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="bestiaireKyForce" name="roll_Ky_FO" value="&{template:enyllion} {{perso=@{Ky_name&#125; }} {{name=Force}} {{Carac=[[@{Ky_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireKyDexterité" name="roll_Ky_DEX" value="&{template:enyllion} {{perso=@{Ky_name&#125; }} {{name=Dexterité}} {{Carac=[[@{Ky_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireKyPouvoir" name="roll_Ky_PO" value="&{template:enyllion} {{perso=@{Ky_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{Ky_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="bestiaireKyDegats" name="roll_Ky_Degats" value="&{template:degats} {{perso=@{Ky_name&#125; }} {{name=Dégats}} {{Roll=[[@{Ky_Deg}d10+@{DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_Ky_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
				</div>
			<br>
			<br>
		</fieldset>
		<div class="title" style="font-effect:engrave; margin-top:35px;">Nordheimm</div>
		<fieldset class="repeating_No">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="bestiaireNoDesc" name="roll_No_desc" value="&{template:bestiaire} {{name=@{No_name&#125; }} {{image=[Image](@{No_image})}} {{description=@{No_Description&#125; }} {{carac1=@{No_FO&#125; }} {{carac2=@{No_DEX&#125; }} {{carac3=@{No_PO&#125; }} {{pdv=@{No_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_No_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_No_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_No_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_No_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_No_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_No_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_No_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_No_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="bestiaireNoForce" name="roll_No_FO" value="&{template:enyllion} {{perso=@{No_name&#125; }} {{name=Force}} {{Carac=[[@{No_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireNoDexterité" name="roll_No_DEX" value="&{template:enyllion} {{perso=@{No_name&#125; }} {{name=Dexterité}} {{Carac=[[@{No_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireNoPouvoir" name="roll_No_PO" value="&{template:enyllion} {{perso=@{No_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{No_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="bestiaireNoDegats" name="roll_No_Degats" value="&{template:degats} {{perso=@{No_name&#125; }} {{name=Dégats}} {{Roll=[[@{No_Deg}d10+@{DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_No_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
				</div>
			<br>
			<br>
		</fieldset>
		<div class="title" style="font-effect:engrave; margin-top:35px;">Amenthet</div>
		<fieldset class="repeating_Am">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="bestiaireAmDesc" name="roll_Am_desc" value="&{template:bestiaire} {{name=@{No_name&#125; }} {{image=[Image](@{No_image})}} {{description=@{No_Description&#125; }} {{carac1=@{No_FO&#125; }} {{carac2=@{No_DEX&#125; }} {{carac3=@{No_PO&#125; }} {{pdv=@{No_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_Am_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Am_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Am_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_Am_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_Am_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Am_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_Am_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_Am_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="bestiaireAmForce" name="roll_Am_FO" value="&{template:enyllion} {{perso=@{Am_name&#125; }} {{name=Force}} {{Carac=[[@{Am_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireAmDexterité" name="roll_Am_DEX" value="&{template:enyllion} {{perso=@{Am_name&#125; }} {{name=Dexterité}} {{Carac=[[@{Am_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireAmPouvoir" name="roll_Am_PO" value="&{template:enyllion} {{perso=@{Am_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{Am_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="bestiaireAmDegats" name="roll_Am_Degats" value="&{template:degats} {{perso=@{Am_name&#125; }} {{name=Dégats}} {{Roll=[[@{Am_Deg}d10+@{Am_DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_Am_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
				</div>
			<br>
			<br>
		</fieldset>
		<div class="title" style="font-effect:engrave; margin-top:35px;">Tekla</div>
		<fieldset class="repeating_Te">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="bestiaireTeDesc" name="roll_Te_desc" value="&{template:bestiaire} {{name=@{Te_name&#125; }} {{image=[Image](@{Te_image})}} {{description=@{Te_Description&#125; }} {{carac1=@{Te_FO&#125; }} {{carac2=@{Te_DEX&#125; }} {{carac3=@{Te_PO&#125; }} {{pdv=@{Te_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_Te_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_Te_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Te_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Te_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_Te_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_Te_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_Te_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_Te_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_Te_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="bestiaireTeForce" name="roll_Te_FO" value="&{template:enyllion} {{perso=@{Te_name&#125; }} {{name=Force}} {{Carac=[[@{Te_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireTeDexterité" name="roll_Te_DEX" value="&{template:enyllion} {{perso=@{Te_name&#125; }} {{name=Dexterité}} {{Carac=[[@{Te_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireTePouvoir" name="roll_Te_PO" value="&{template:enyllion} {{perso=@{Te_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{Te_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="bestiaireTeDegats" name="roll_Te_Degats" value="&{template:degats} {{perso=@{Te_name&#125; }} {{name=Dégats}} {{Roll=[[@{Te_Deg}d10+@{Te_DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_Te_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
				</div>
			<br>
			<br>
		</fieldset>
		<div class="title" style="font-effect:engrave; margin-top:35px;">Démons</div>
		<fieldset class="repeating_dem">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="demDesc" name="roll_dem_desc" value="&{template:bestiaire} {{name=@{dem_name&#125; }} {{image=[Image](@{dem_image})}} {{description=@{dem_Description&#125; }} {{carac1=@{dem_FO&#125; }} {{carac2=@{dem_DEX&#125; }} {{carac3=@{dem_PO&#125; }} {{pdv=@{dem_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_dem_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_dem_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_dem_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_dem_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_dem_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_dem_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_dem_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_dem_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_dem_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="demForce" name="roll_dem_FO" value="&{template:enyllion} {{perso=@{dem_name&#125; }} {{name=Force}} {{Carac=[[@{dem_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="demDexterité" name="roll_dem_DEX" value="&{template:enyllion} {{perso=@{dem_name&#125; }} {{name=Dexterité}} {{Carac=[[@{dem_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="demPouvoir" name="roll_dem_PO" value="&{template:enyllion} {{perso=@{dem_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{dem_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="demDegats" name="roll_dem_Degats" value="&{template:degats} {{perso=@{dem_name&#125; }} {{name=Dégats}} {{Roll=[[@{dem_Deg}d10+@{dem_DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_dem_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
			</div>
			<br>
			<br>
		</fieldset>
		<div class="title" style="font-effect:engrave; margin-top:35px;">Dragons</div>
		<fieldset class="repeating_drag">
			<div class="dark_row" style="font-size:20px;line-height:25px;">
				<div  class="arme-title" style="margin-left:75px; margin-top: 10px;">Nom</div>
				<div  class="arme-title" style="margin-left:60px;">FO</div>
				<div  class="arme-title" style="margin-left:30px;">DEX</div>
				<div  class="arme-title" style="margin-left:25px;">PO</div>
				<div  class="arme-title" style="margin-left:58px;">Dégâts</div>
				<div  class="arme-title" style="margin-left:50px;">PdV</div>
				<div  class="arme-title" style="margin-left:28px;">XP</div>
				<div  class="arme-title" style="margin-left:80px;">Description</div>
			</div>
			<div class="dark_row">
				<button  type="roll" title="bestiaireDragDesc" name="roll_drag_desc" value="&{template:bestiaire} {{name=@{drag_name&#125; }} {{image=[Image](@{drag_image})}} {{description=@{drag_Description&#125; }} {{carac1=@{drag_FO&#125; }} {{carac2=@{drag_DEX&#125; }} {{carac3=@{drag_PO&#125; }} {{pdv=@{drag_PdV&#125; }}"></button>
				<input class="textbox" type="text" name="attr_drag_name" style="width:120px;"/>
				<input class="textbox-stat" type="number" name="attr_drag_FO" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_drag_DEX" style="width:50px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_drag_PO" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_drag_Deg" style="width:40px;text-align:center;"> d10+</input>
				<input class="textbox-stat" type="number" name="attr_drag_DegModif" style="width:40px;text-align:center;"/>
				<input class="textbox-stat" type="number" name="attr_drag_PdV" style="width:50px;"/>
				<input class="textbox-stat" type="number" name="attr_drag_Xp" style="width:50px;"/>
				<textarea class="textareaboxStat" type="text" name="attr_drag_Description" style="vertical-align: top; width:200px;"></textarea>
				<br>
				<button type="roll" style="margin-left:180px;" title="bestiaireDragForce" name="roll_drag_FO" value="&{template:enyllion} {{perso=@{drag_name&#125; }} {{name=Force}} {{Carac=[[@{drag_FO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireDragDexterité" name="roll_drag_DEX" value="&{template:enyllion} {{perso=@{drag_name&#125; }} {{name=Dexterité}} {{Carac=[[@{drag_DEX}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:30px;" title="bestiaireDragPouvoir" name="roll_drag_PO" value="&{template:enyllion} {{perso=@{drag_name&#125; }} {{name=Pouvoir}} {{Carac=[[@{drag_PO}+?{Modificateur|0}]]}}  {{Roll=[[1D100]]}}"></button>
				<button type="roll" style="margin-left:75px;" title="bestiaireDragDegats" name="roll_drag_Degats" value="&{template:degats} {{perso=@{drag_name&#125; }} {{name=Dégats}} {{Roll=[[@{drag_Deg}d10+@{drag_DegModif}]]}}"></button>
				<div class="arme-title" style="margin-left:114px;">Image</div>
				<textarea class="textareaboxStat" type="text" name="attr_drag_Image" style="vertical-align: top; width:200px; margin-left: 10px;"></textarea>
				</div>
			<br>
			<br>
		</fieldset>
	</div>
</div>
<!--Fin bestiaire-->

<!--template principal-->
<rolltemplate class="sheet-rolltemplate-enyllion">
	<table>
		{{#perso}}
		{{#familier}}
		<td class="name"><b>{{perso}}</b></td>
		<tr><td class="famname"><b>{{familier}}</b></td></tr>
		<tr><td><hr/></td></tr>
		{{/familier}}
		{{/perso}}
		<tr><th>{{name}}</th></tr>
		<tr>
		{{#Roll}}
		<tr>
			<td class="tcat">Carac : {{Carac}}</td>
		</tr>
		<br>
		<tr>
			<td class="tcat">Jet : {{Roll}}</td>
		</tr>
		<br>
		<tr>
			{{#rollGreater() Roll 95}}
			<td class="diceresult" style="color:red; font-size: large;">Echec critique !</td>
			{{/rollGreater() Roll 95}}
			{{#rollBetween() Roll Carac 95}}
			<td class="diceresult" style="color:red; font-size: large;">Échec</td>
			{{/rollBetween() Roll Carac 95}}
			{{#rollBetween() Roll 21 Carac}}
			<td class="diceresult" style="color:green; font-size: large;">Réussite</td>
			{{/rollBetween() Roll 21 Carac}}
			{{#rollBetween() Roll 11 20}}
			<td class="diceresult" style="color:green; font-size: large;">Réussite exceptionnelle</td>
			{{/rollBetween() Roll 11 20}}
			{{#rollBetween() Roll 6 10}}
			<td class="diceresult" style="color:green; font-size: large;">Réussite Fabuleuse</td>
			{{/rollBetween() Roll 6 10}}
			{{#rollLess() Roll 6}}
			<td class="diceresult" style="color:green; font-size: large;">Réussite critique</td>
			{{/rollLess() Roll 6}}
		</tr>
		{{/Roll}}
		</tr>
		<tr><th>{{description}}</th></tr>
		<br>
	</table>
</rolltemplate>

<!--template dégats-->
<rolltemplate class="sheet-rolltemplate-degats">
	<table>
		{{#perso}}
		<td class="name"><b>{{perso}}</b></td></tr>
		<tr><td class="famname"><b>{{familier}}</b></td></tr>
		<tr><td><hr/></td></tr>
		{{/perso}}
		<tr><th>{{name}}</th></tr>
		<tr>
		{{#Roll}}
		<tr>
			<td class="tcat">Dégats : {{Roll}}</td>
		</tr>
		{{/Roll}}
		</tr><br>
	</table>
</rolltemplate>

<!--template invocation-->
<rolltemplate class="sheet-rolltemplate-invocation">
	<table>
		<tr><th>{{name}}</th></tr>
		{{#perso}}
		<td class="name"><b>{{perso}}</b></td></tr>
		<tr><td class="famname"><b>{{familier}}</b></td></tr>
		<tr><td><hr/></td></tr>
		{{/perso}}
		<tr><th>{{description}}</th></tr>
		<br>
	</table>
</rolltemplate>

<!--template macro-->
<rolltemplate class="sheet-rolltemplate-macro">
	<table>
		{{#perso}}
		<td class="name"><b>{{perso}}</b></td></tr>
		<tr><td class="famname"><b>{{familier}}</b></td></tr>
		<tr><td><hr/></td></tr>
		{{/perso}}
		<tr><th>{{name}}</th></tr>
		<tr>
		{{#Roll}}
		<tr>
			<td class="tcat">{{Roll}}</td>
		</tr>
		{{/Roll}}
		</tr><br>
	</table>
</rolltemplate>

<!--template bestiaire-->
<rolltemplate class="sheet-rolltemplate-bestiaire">
	<table>
		<tr><th>{{name}}</th></tr>
		<tr><td><hr/></td></tr>
		<tr><td>{{image}}</td></tr>
		<tr><th>{{description}}</th></tr>
		<tr><td class="tcat">FO: {{carac1}} | DEX: {{carac2}} | PO: {{carac3}}</td></tr>
		<tr><td class="tcat">PdV : {{pdv}}</td></tr>
		<br>
	</table>
</rolltemplate>
<!--fin templates---->

<!--Début scripts-->
<script type="text/worker">
	const buttonlist = ["principal","equipement","grimoire"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

	const buttonlist2 = ["PNJ_principal","PNJ_equipement","PNJ_grimoire"];
    buttonlist2.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                PNJ_sheetTab: button
            });
        });
    });

	/* ===== PARAMETERS ==========
	destinations = the name of the attribute that stores the total quantity
        		   can be a single attribute, or an array: ['total_cost', 'total_weight']
        		   If more than one, the matching fields must be in the same order. 
    section = name of repeating fieldset, without the repeating_
    fields = the name of the attribute field to be summed
          	 destination and fields both can be a single attribute: 'weight'
          	 or an array of attributes: ['weight','number','equipped']
	*/
	
	//Fonction repeatingSum
	const repeatingSum = (destinations, section, fields) => {
		if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
		if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
		getSectionIDs(`repeating_${section}`, idArray => {
			const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
			getAttrs([...attrArray], v => {
				const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
				const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
				const output = {};
				destinations.forEach((destination, index) => {
					output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
				});
				setAttrs(output);
			}); 
		}); 
	};

	//Calcul poids porté
	on('sheet:opened', function() {
		repeatingSum("PdsPorteEqp","inventory",["EqpPds","EqpQte","WearEqp"]);
		repeatingSum("PdsPorteWeap","weapons",["ArmePds","WearWeap"]);
		repeatingSum("PdsPorteRangWeap", "rangedweapons",["RangedWeaponPds","WearRgdWeap"]);
		repeatingSum("PdsPorteMun","munitions", ["MunitionPds", "MunitionQte", "WearMunition"]);
		repeatingSum("PdsPorteArmor","armor",["ArmorPds","WearArmor"]);
		getAttrs(['PdsPorteArmor','PdsPorteRangWeap','PdsPorteWeap','PdsPorteEqp', 'PdsPorteMun'], function(values){
			var ArmorWeight = parseInt(values.PdsPorteArmor)
			var RangWeapWeight = parseInt(values.PdsPorteRangWeap)
			var WeapWeight = parseInt(values.PdsPorteWeap)
			var EqpWeight = parseInt(values.PdsPorteEqp)
			var MunitionWeight = parseInt(values.MunitionPds)*parseInt(values.MunitionQte)
			
			setAttrs({
				PdsPorteTot: ArmorWeight+RangWeapWeight+WeapWeight+EqpWeight+MunitionWeight});
		});
	});

    on('change:repeating_inventory remove:repeating_inventory', function() {
		repeatingSum("PdsPorteEqp","inventory",["EqpPds","EqpQte","WearEqp"]);
	});

    on('change:repeating_weapons remove:repeating_weapons', function() {
		repeatingSum("PdsPorteWeap","weapons",["ArmePds","WearWeap"]);
	});

	on('change:repeating_rangedweapons remove:repeating_rangedweapons', function() {
		repeatingSum("PdsPorteRangWeap", "rangedweapons",["RangedWeaponPds","WearRgdWeap"]);
	});

	on('change:repeating_munitions remove:repeating_munitions', function() {
		repeatingSum("PdsPorteMun","munitions", ["MunitionPds", "MunitionQte", "WearMunition"]);
	});

	on('change:repeating_armor remove:repeating_armor', function() {
		repeatingSum("PdsPorteArmor","armor",["ArmorPds","WearArmor"]);
	});

	on('change:PdsPorteArmor change:PdsPorteRangWeap change:PdsPorteWeap change:PdsPorteEqp change:PdsPorteMun', function() {
		getAttrs(['PdsPorteArmor','PdsPorteRangWeap','PdsPorteWeap','PdsPorteEqp', 'PdsPorteMun'], function(values){
			var ArmorWeight = parseInt(values.PdsPorteArmor)
			var RangWeapWeight = parseInt(values.PdsPorteRangWeap)
			var WeapWeight = parseInt(values.PdsPorteWeap)
			var EqpWeight = parseInt(values.PdsPorteEqp)
			var MunitionWeight = parseInt(values.PdsPorteMun)

			setAttrs({PdsPorteTot: ArmorWeight+RangWeapWeight+WeapWeight+EqpWeight+MunitionWeight});
		});
	});
	//Fin calcul poids porté

	//Calcul niveau
	on("sheet:opened change:NbXp", function() {
		getAttrs(["NbXp"], function(values) {
			var xp = parseInt(values.NbXp) || 0;
			let level = 0;

			if (xp < 900 && xp >= 300) {
				level = 2;
			} else if (xp < 1800 && xp >= 900) {
				level = 3;
			} else if (xp < 3600 && xp >= 1800) {
				level = 4;
			} else if (xp < 7200 && xp >= 3600) {
				level = 5;
			} else if (xp < 12000 && xp >= 7200) {
				level = 6;
			} else if (xp < 16000 && xp >= 12000) {
				level = 7;
			} else if (xp < 20000 && xp >= 16000) {
				level = 8;
			} else if (xp < 25000 && xp >= 20000) {
				level = 9;
			} else if (xp < 30000 && xp >= 25000) {
				level = 10;
			} else if (xp < 35000 && xp >= 12000) {
				level = 11;
			} else if (xp < 40000 && xp >= 35000) {
				level = 12;
			} else if (xp < 50000 && xp >= 40000) {
				level = 13;
			} else if (xp < 100000 && xp >= 50000) {
				level = 14;
			} else if (xp < 150000 && xp >= 100000) {
				level = 15;
			} else if (xp < 200000 && xp >= 150000) {
				level = 16;
			} else if (xp < 250000 && xp >= 200000) {
				level = 17;
			} else if (xp < 300000 && xp >= 250000) {
				level = 18;
			} else if (xp < 350000 && xp >= 300000) {
				level = 19;
			} else if (xp >= 350000) {
				level = 20;
			} else {
				level = 1;
			}
			setAttrs({ 
				PlayerLvl: level 
			});
	  	});
	});
	//Fin calcul niveau

	//Calcul vie
	on("sheet:opened change:PdvActuel", function(){
		getAttrs(["PdvTotal", "PdvActuel"], function(values){
			var pdvActuel = parseInt(values.PdvActuel);
			var pdvTotal = parseInt(values.PdvTotal);
			var PourcentagePdv = (pdvActuel / pdvTotal) * 100;
			var sante = 0;

			if (PourcentagePdv <= 99.99 & PourcentagePdv >= 90) {
				sante = 1;
			} else if (PourcentagePdv <= 89.99 & PourcentagePdv >= 85) {
				sante = 2;
			} else if (PourcentagePdv <= 84.99 & PourcentagePdv >= 80) {
				sante = 3;
			} else if (PourcentagePdv <= 79.99 & PourcentagePdv >= 75) {
				sante = 4;
			} else if (PourcentagePdv <= 74.99 & PourcentagePdv >= 70) {
				sante = 5;
			} else if (PourcentagePdv <= 69.99 & PourcentagePdv >= 65) {
				sante = 6;
			} else if (PourcentagePdv <= 64.99 & PourcentagePdv >= 60) {
				sante = 7;
			} else if (PourcentagePdv <= 59.99 & PourcentagePdv >= 55) {
				sante = 8;
			} else if (PourcentagePdv <= 54.99 & PourcentagePdv >= 50) {
				sante = 9;
			} else if (PourcentagePdv <= 49.99 & PourcentagePdv >= 45) {
				sante = 10;
			} else if (PourcentagePdv <= 44.99 & PourcentagePdv >= 40) {
				sante = 11;
			} else if (PourcentagePdv <= 39.99 & PourcentagePdv >= 35) {
				sante = 12;
			} else if (PourcentagePdv <= 34.99 & PourcentagePdv >= 30) {
				sante = 13;
			} else if (PourcentagePdv <= 29.99 & PourcentagePdv >= 25) {
				sante = 14;
			} else if (PourcentagePdv <= 24.99 & PourcentagePdv >= 20) {
				sante = 15;
			} else if (PourcentagePdv <= 19.99 & PourcentagePdv >= 15) {
				sante = 16;
			} else if (PourcentagePdv <= 14.99 & PourcentagePdv >= 10) {
				sante = 17;
			} else if (PourcentagePdv <= 9.99 & PourcentagePdv >= 5) {
				sante = 18;
			} else if (PourcentagePdv <= 4.99 & PourcentagePdv >= 0) {
				sante = 19;
			}

			setAttrs({
				Sante: sante
			});
		});
	});

    on("sheet:opened change:Sante", function(){
		getAttrs(["Sante"], function(values){
			var sante = parseInt(values.Sante);
			var effet = '';
			var malusSante = 0;
			var valSante = 0;

			if (sante === 1) {
				valSante = 19;
			} else if (sante === 2) {
				valSante = 18;
			} else if (sante === 3) {
				valSante = 17;
			} else if (sante === 4) {
				valSante = 16;
			} else if (sante === 5) {
				valSante = 15;
			} else if (sante === 6) {
				valSante = 14;
			} else if (sante === 7) {
				valSante = 13;
			} else if (sante === 8) {
				valSante = 12;
			} else if (sante === 9) {
				valSante = 11;
			} else if (sante === 10) {
				valSante = 10;
			} else if (sante === 11) {
				valSante = 9;
			} else if (sante === 12) {
				valSante = 8;
			} else if (sante === 13) {
				valSante = 7;
			} else if (sante === 14) {
				valSante = 6;
			} else if (sante === 15) {
				valSante = 5;
			} else if (sante === 16) {
				valSante = 4;
			} else if (sante === 17) {
				valSante = 3;
			} else if (sante === 18) {
				valSante = 2;
			} else if (sante === 19) {
				valSante = 1;
			} else {
				valSante = 20;
			}

			if (sante === 5 || sante === 6 || sante === 7 || sante === 8 || sante === 9) {
				effet = "-2 à tout les jets";
				malusSante = -2;
			} else if (sante === 10 || sante === 11 || sante === 12 || sante === 13 || sante === 14) {
				effet = "-5 à tout les jets";
				malusSante = -5;
			} else if (sante === 15 || sante === 16) {
				effet = "-10 à tout les jets";
				malusSante = -10;
			} else if (sante === 17) {
				effet = "-15 à tout les jets";
				malusSante = -15;
			} else if (sante === 18) {
				effet = "-20 à tous les jets";
				malusSante = -20;
			} else if (sante === 19) {
				effet = "Inconscient jusqu à soins";
				malusSante = -20;
			} else {
				effet = "Tout va bien";
				malusSante = 0;
			}
			setAttrs({ 
				EffetSante: effet,
				MalusSante: malusSante,
				ValSante: valSante
			});
	  	});
	});
	//Fin calcul vie

	//Carac races
	on("sheet:opened change:Race change:Classe", function() {
		getAttrs(["Race", "Classe"], function(values) {
			var classe = parseInt(values.Classe);
			var race = parseInt(values.Race);
			var carac1 = '';
			let bonus1 = 0;
			var carac2 = '';
			let bonus2 = 0;
			var langageNatif = '';
			let resistancePhys = 0;
			var resistanceElem = '';
			var faiblesseElem = '';

			if (race === 1) { //Humain
				carac1 = "Éloquence (ED)";
				bonus1 = 5;
				carac2 = "Sens ordinaires (PE)";
				bonus2 = -5;
				langageNatif = "Commun";
				resistancePhys = 2;
				resistanceElem = "Feu";
				faiblesseElem = "Eau";
			} else if (race === 2) { //Nain
				carac1 = "Travailleur (FO)";
				bonus1 = 5;
				carac2 = "Brute épaisse (DEX)";
				bonus2 = -5;
				langageNatif = "Dwarv";
				resistancePhys = 3;
				resistanceElem = "Terre";
				faiblesseElem = "Eau";
			} else if (race === 3) { //Elfe
				carac1 = "Beauté surnaturelle (CH)";
				bonus1 = 5;
				carac2 = "Malingre (FO)";
				bonus2 = -5;
				langageNatif = "Elfique";
				resistancePhys = 1;
				resistanceElem = "Céleste";
				faiblesseElem = "Draconique";
			} else if (race === 4) { //Demi-elfe
				carac1 = "Savoir magique (PO)";
				bonus1 = 5;
				carac2 = "Demi-portion (FO)";
				bonus2 = -5;
				langageNatif = "Achko";
				resistancePhys = 1;
				resistanceElem = "Foudre";
				faiblesseElem = "Terre";
			} else if (race === 5) { //Saurien
				carac1 = "Instinct reptilien (DEX)";
				bonus1 = 5;
				carac2 = "Vie sauvage (ED)";
				bonus2 = -5;
				langageNatif = "Ghry'ls";
				resistancePhys = 5;
				resistanceElem = "Eau";
				faiblesseElem = "Glace";
			} else if (race === 6) { //Demi-ork
				carac1 = "Assurance (SF)";
				bonus1 = 5;
				carac2 = "Peau verte (CH)";
				bonus2 = -5;
				langageNatif = "Orkal";
				resistancePhys = 4;
				resistanceElem = "Vent";
				faiblesseElem = "Combat";
			} else if (race === 7) { // Felika
				carac1 = "Réflexe animal (DEX)";
				bonus1 = 5;
				carac2 = "Peur primaire (SF)";
				bonus2 = -5;
				langageNatif = "Graowl";
				resistancePhys = 4;
				resistanceElem = "Combat";
				faiblesseElem = "Renforcement";
			} else if (race === 8) { //Vampire
				carac1 = "Sang impur (CON)";
				bonus1 = 5;
				carac2 = "Regard affamé (CH)";
				bonus2 = -5;
				langageNatif = "Commun";
				resistancePhys = 3;
				resistanceElem = "Esprit";
				faiblesseElem = "Sacré";
			} else if (race === 9) { //Lycan
				carac1 = "Sens sauvages (PE)";
				bonus1 = 5;
				carac2 = "Berserk (SF)";
				bonus2 = -5;
				langageNatif = "Commun";
				resistancePhys = 4;
				resistanceElem = "Nature";
				faiblesseElem = "Démoniaque";
			} else if (race === 10) { //Succube
				carac1 = "Séductrice (CH)";
				bonus1 = 5;
				carac2 = "Colérique (SF)";
				bonus2 = -5;
				langageNatif = "Infernoss";
				resistancePhys = 4;
				resistanceElem = "Contrôle mental";
				faiblesseElem = "Lumière";
			} else if (race === 11) { //Animorphe
				carac1 = "Instinct sauvage (DEX)";
				bonus1 = 5;
				carac2 = "Aspect animal (CH)";
				bonus2 = -5;
				langageNatif = "Commun";
				resistancePhys = 3;
				resistanceElem = "Nature";
				faiblesseElem = "Démoniaque";
			} else {
				carac1 = "Choisir une race";
				bonus1 = 0;
				carac2 = "Choisir une race";
				bonus2 = 0;
				langageNatif = "Choisir une race";
				resistancePhys = 0;
				resistanceElem = "Choisir une race";
				faiblesseElem = "Choisir une race";
			}

			setAttrs({ 
				CaracRace1: carac1,
				BonMalCarac1: bonus1,
				CaracRace2: carac2,
				BonMalCarac2: bonus2,
				LanguageNatif: langageNatif,
				ResistanceElem: resistanceElem,
				FaiblesseElem: faiblesseElem,
			});
		});
	});

	//Points de vie race et classe
	on("sheet: opened change:Race change:Classe change:PlayerLvl", function(){
		getAttrs(["Race", "Classe", "PlayerLvl"], function(values){
			var race = parseInt(values.Race) || 0;
			var classe = parseInt(values.Classe) || 0;
			var niveau = parseInt(values.PlayerLvl) || 0;
			var pdvRace = 0;
			var pdvClasse = 0;
			var pdvBase = 0;
			var pdvMod =0;

			if (race === 1) { //Humain
				pdvRace = 60;
			} else if (race === 2) { //Nain
				pdvRace = 65;
			} else if (race === 3) { //Elfe
				pdvRace = 55;
			} else if (race === 4) { //Demi-elfe
				pdvRace = 55;
			} else if (race === 5) { //Saurien
				pdvRace = 75;
			} else if (race === 6) { //Demi-ork
				pdvRace = 70;
			} else if (race === 7) { // Felika
				pdvRace = 70;
			} else if (race === 8) { //Vampire
				pdvRace = 65;
			} else if (race === 9) { //Lycan
				pdvRace = 70;
			} else if (race === 10) { //Succube
				pdvRace = 70;
			} else if (race === 11) { //Animorphe
				pdvRace = 65;
			} else {
				pdvRace = 0;
			}

			if (classe === 1) { //Aventurier
				pdvClasse = 2;
			} else if (classe === 2) { //Barbare
				pdvClasse = 5;
			} else if (classe === 3) { //Marchand
				pdvClasse = 0;
			} else if (classe === 4) { //Chevalier
				pdvClasse = 5;
			} else if (classe === 5) { //Sentinelle
				pdvClasse = 5;
			} else if (classe === 6) { //Druide
				pdvClasse = 0;
			} else if (classe === 7) { //Devot
				pdvClasse = 0;
			} else if (classe === 8) { //Mage
				pdvClasse = 2;
			} else if (classe === 9) { //Roublard
				pdvClasse = 2;
			} else if (classe === 10) { //Spadassin
				pdvClasse = 5;
			} else {
				pdvClasse = 0;
			}

			pdvBase = pdvRace + pdvClasse;

			if (niveau >= 2) {
				pdvMod = Math.round(pdvBase * (1.15 ** (niveau - 1)));
			} else {
				pdvMod = pdvBase;
			}

			setAttrs({
				PdvTotal: pdvMod
			});
		});
	});

	//Calcul vie PNJ
	on("sheet:opened change:PnjPdvActuel", function(){
		getAttrs(["PnjPdvTotal", "PnjPdvActuel"], function(values){
			var pdvActuel = parseInt(values.PnjPdvActuel);
			var pdvTotal = parseInt(values.PnjPdvTotal);
			var PourcentagePdv = (pdvActuel / pdvTotal) * 100;
			var sante = 0;

			if (PourcentagePdv <= 99.99 & PourcentagePdv >= 90) {
				sante = 1;
			} else if (PourcentagePdv <= 89.99 & PourcentagePdv >= 85) {
				sante = 2;
			} else if (PourcentagePdv <= 84.99 & PourcentagePdv >= 80) {
				sante = 3;
			} else if (PourcentagePdv <= 79.99 & PourcentagePdv >= 75) {
				sante = 4;
			} else if (PourcentagePdv <= 74.99 & PourcentagePdv >= 70) {
				sante = 5;
			} else if (PourcentagePdv <= 69.99 & PourcentagePdv >= 65) {
				sante = 6;
			} else if (PourcentagePdv <= 64.99 & PourcentagePdv >= 60) {
				sante = 7;
			} else if (PourcentagePdv <= 59.99 & PourcentagePdv >= 55) {
				sante = 8;
			} else if (PourcentagePdv <= 54.99 & PourcentagePdv >= 50) {
				sante = 9;
			} else if (PourcentagePdv <= 49.99 & PourcentagePdv >= 45) {
				sante = 10;
			} else if (PourcentagePdv <= 44.99 & PourcentagePdv >= 40) {
				sante = 11;
			} else if (PourcentagePdv <= 39.99 & PourcentagePdv >= 35) {
				sante = 12;
			} else if (PourcentagePdv <= 34.99 & PourcentagePdv >= 30) {
				sante = 13;
			} else if (PourcentagePdv <= 29.99 & PourcentagePdv >= 25) {
				sante = 14;
			} else if (PourcentagePdv <= 24.99 & PourcentagePdv >= 20) {
				sante = 15;
			} else if (PourcentagePdv <= 19.99 & PourcentagePdv >= 15) {
				sante = 16;
			} else if (PourcentagePdv <= 14.99 & PourcentagePdv >= 10) {
				sante = 17;
			} else if (PourcentagePdv <= 9.99 & PourcentagePdv >= 5) {
				sante = 18;
			} else if (PourcentagePdv <= 4.99 & PourcentagePdv >= 0) {
				sante = 19;
			}

			setAttrs({
				PnjSante: sante
			});
		});
	});

    on("sheet:opened change:PnjSante", function(){
		getAttrs(["PnjSante"], function(values){
			var sante = parseInt(values.PnjSante);
			var effet = '';
			var malusSante = 0;
			var valSante = 0;

			if (sante === 1) {
				valSante = 19;
			} else if (sante === 2) {
				valSante = 18;
			} else if (sante === 3) {
				valSante = 17;
			} else if (sante === 4) {
				valSante = 16;
			} else if (sante === 5) {
				valSante = 15;
			} else if (sante === 6) {
				valSante = 14;
			} else if (sante === 7) {
				valSante = 13;
			} else if (sante === 8) {
				valSante = 12;
			} else if (sante === 9) {
				valSante = 11;
			} else if (sante === 10) {
				valSante = 10;
			} else if (sante === 11) {
				valSante = 9;
			} else if (sante === 12) {
				valSante = 8;
			} else if (sante === 13) {
				valSante = 7;
			} else if (sante === 14) {
				valSante = 6;
			} else if (sante === 15) {
				valSante = 5;
			} else if (sante === 16) {
				valSante = 4;
			} else if (sante === 17) {
				valSante = 3;
			} else if (sante === 18) {
				valSante = 2;
			} else if (sante === 19) {
				valSante = 1;
			} else {
				valSante = 20;
			}

			if (sante === 5 || sante === 6 || sante === 7 || sante === 8 || sante === 9) {
				effet = "-2 à tout les jets";
				malusSante = -2;
			} else if (sante === 10 || sante === 11 || sante === 12 || sante === 13 || sante === 14) {
				effet = "-5 à tout les jets";
				malusSante = -5;
			} else if (sante === 15 || sante === 16) {
				effet = "-10 à tout les jets";
				malusSante = -10;
			} else if (sante === 17) {
				effet = "-15 à tout les jets";
				malusSante = -15;
			} else if (sante === 18) {
				effet = "-20 à tous les jets";
				malusSante = -20;
			} else if (sante === 19) {
				effet = "Inconscient jusqu à soins";
				malusSante = -20;
			} else {
				effet = "Tout va bien";
				malusSante = 0;
			}
			setAttrs({ 
				PnjEffetSante: effet,
				PnjMalusSante: malusSante,
				PnjValSante: valSante
			});
	  	});
	});
	//Fin calcul vie PNJ

	//Carac races PNJ
	on("sheet:opened change:RacePNJ change:ClassePNJ", function() {
		getAttrs(["RacePNJ", "ClassePNJ"], function(values) {
			var classePNJ = parseInt(values.ClassePNJ);
			var racePNJ = parseInt(values.RacePNJ);
			let resistancePhysPNJ = 0;
			var resistanceElemPNJ = '';
			var faiblesseElemPNJ = '';

			if (racePNJ === 1) { //Humain
				resistancePhysPNJ = 2;
				resistanceElemPNJ = "Feu";
				faiblesseElemPNJ = "Eau";
			} else if (racePNJ === 2) { //Nain
				resistancePhysPNJ = 3;
				resistanceElemPNJ = "Terre";
				faiblesseElemPNJ = "Eau";
			} else if (racePNJ === 3) { //Elfe
				resistancePhysPNJ = 1;
				resistanceElemPNJ = "Céleste";
				faiblesseElemPNJ = "Draconique";
			} else if (racePNJ === 4) { //Demi-elfe
				resistancePhysPNJ = 1;
				resistanceElemPNJ = "Foudre";
				faiblesseElemPNJ = "Terre";
			} else if (racePNJ === 5) { //Saurien
				resistancePhysPNJ = 5;
				resistanceElemPNJ = "Eau";
				faiblesseElemPNJ = "Glace";
			} else if (racePNJ === 6) { //Demi-ork
				resistancePhysPNJ = 4;
				resistanceElemPNJ = "Vent";
				faiblesseElemPNJ = "Combat";
			} else if (racePNJ === 7) { // Felika
				resistancePhysPNJ = 4;
				resistanceElemPNJ = "Combat";
				faiblesseElemPNJ = "Renforcement";
			} else if (racePNJ === 8) { //Vampire
				resistancePhysPNJ = 3;
				resistanceElemPNJ = "Esprit";
				faiblesseElemPNJ = "Illusion";
			} else if (racePNJ === 9) { //Lycan
				resistancePhysPNJ = 4;
				resistanceElemPNJ = "Nature";
				faiblesseElemPNJ = "Démoniaque";
			} else if (racePNJ === 10) { //Succube
				resistancePhysPNJ = 4;
				resistanceElemPNJ = "Contrôle mental";
				faiblesseElemPNJ = "Lumière";
			} else if (racePNJ === 11) { //Animorphe
				resistancePhysv = 3;
				resistanceElemPNJ = "Nature";
				faiblesseElemPNJ = "Démoniaque";
			} else {
				resistancePhysPNJ = 0;
				resistanceElemPNJ = "Choisir une race";
				faiblesseElemPNJ = "Choisir une race";
			}

			if (classePNJ === 1) {
				resistancePhysPNJ += 2;
			} else if (classePNJ === 2) {
				resistancePhysPNJ += 5;
			} else if (classePNJ === 4) {
				resistancePhysPNJ += 5;
			} else if (classePNJ === 5) {
				resistancePhysPNJ += 5;
			} else if (classePNJ === 8) {
				resistancePhysPNJ += 2;
			} else if (classePNJ === 9) {
				resistancePhysPNJ += 2;
			} else if (classePNJ === 10) {
				resistancePhysPNJ += 5;
			}

			setAttrs({ 
				ResistancePhysPNJ: resistancePhysPNJ,
				ResistanceElemPNJ: resistanceElemPNJ,
				FaiblesseElemPNJ: faiblesseElemPNJ
			});
	  	});
	});

	//Bestiaire
	/*
	on("sheet:opened change:NvGroupe", function(){
		getSectionIDs("repeating_En", "repeating_Ky", "repeating_No", "repeating_Am", "repeating_Te", "repeating_dem", "repeating_drag" function(ids) {
			const fieldnames = [];
			ids.forEach(id => fieldsnames.push('repeating_En' + id + '_En_Deg', 'repeating_En' + id + '_En_DegMod', 'repeating_En' + id + '_En_PdV', 'repeating_Ky' + id + '_Ky_Deg', 'repeating_Ky' + id + '_Ky_DegMod', 'repeating_Ky' + id + '_Ky_PdV', 'repeating_No' + id + '_No_Deg', 'repeating_No' + id + '_No_DegMod', 'repeating_No' + id + '_No_PdV', 'repeating_Am' + id + '_Am_Deg', 'repeating_Am' + id + '_Am_DegMod', 'repeating_Am' + id + '_Am_PdV', 'repeating_Te' + id + '_Te_Deg', 'repeating_Te' + id + '_Te_DegMod', 'repeating_Te' + id + '_Te_PdV', 'repeating_dem' + id + '_dem_Deg', 'repeating_dem' + id + '_dem_DegMod', 'repeating_dem' + id + '_dem_PdV', 'repeating_drag' + id + '_drag_Deg', 'repeating_drag' + id + '_drag_DegMod', 'repeating_drag' + id + '_drag_PdV',));
		
			getAttrs(["NvGroupe", fieldnames], function(values) {
				var enDeg = parseInt(values.repeating_En_En_Deg);
				var enDegMod = parseInt(values.repeating_En_En_DegMod);
				var enPdv = parseInt(values.repeating_En_En_PdV);
				var amDeg = parseInt(values.repeating_Am_Am_Deg);
				var amDegMod = parseInt(values.repeating_Am_Am_DegMod);
				var amPdv = parseInt(values.repeating_Am_Am_PdV);
				var kyDeg = parseInt(values.repeating_Ky_Ky_Deg);
				var kyDegMod = parseInt(values.repeating_Ky_Ky_DegMod);
				var kyPdv = parseInt(values.repeating_Ky_Ky_PdV);
				var noDeg = parseInt(values.repeating_No_No_Deg);
				var noDegMod = parseInt(values.repeating_No_No_DegMod);
				var noPdv = parseInt(values.repeating_No_No_PdV);
				var teDeg = parseInt(values.repeating_Te_Te_Deg);
				var teDegMod = parseInt(values.repeating_Te_Te_DegMod);
				var tePdv = parseInt(values.repeating_Te_Te_PdV);
				var demDeg = parseInt(values.repeating_dem_dem_Deg);
				var demDegMod = parseInt(values.repeating_dem_dem_DegMod);
				var demPdv = parseInt(values.repeating_dem_dem_PdV);
				var dragDeg = parseInt(values.repeating_drag_drag_Deg);
				var dragDegMod = parseInt(values.repeating_drag_drag_DegMod);
				var dragPdv = parseInt(values.repeating_drag_drag_PdV);
				var niveau = parseInt(values.NvGroupe);
				var coeff = 1.15;
				var enDegTot = 0;
				var kyDegTot = 0;
				var noDegTot = 0;
				var amDegTot = 0;
				var teDegTot = 0;
				var demDegTot = 0;
				var dragDegTot = 0;
				var enDegNv = 0;
				var kyDegNv = 0;
				var noDegNv = 0;
				var amDegNv = 0;
				var teDegNv = 0;
				var demDegNv = 0;
				var dragDegNv = 0;
				var enDegModNv = 0;
				var kyDegModNv = 0;
				var noDegModNv = 0;
				var amDegModNv = 0;
				var teDegModNv = 0;
				var demDegModNv = 0;
				var dragDegModNv = 0;
				var enPdvNv = 0;
				var kyPdvNv = 0;
				var noPdvNv = 0;
				var amPdvNv = 0;
				var tePdvNv = 0;
				var demPdvNv = 0;
				var dragPdvNv = 0;
				
				if (niveau > 1) {
					enDegTot = ((enDeg*10) + enDegMod) * (coeff^(niveau-1));
					kyDegTot = ((kyDeg*10) + kyDegMod) * (coeff^(niveau-1));
					noDegTot = ((noDeg*10) + noDegMod) * (coeff^(niveau-1));
					amDegTot = ((amDeg*10) + amDegMod) * (coeff^(niveau-1));
					teDegTot = ((teDeg*10) + teDegMod) * (coeff^(niveau-1));
					demDegTot = ((demDeg*10) + demDegMod) * (coeff^(niveau-1));
					dragDegTot = ((dragDeg*10) + dragDegMod) * (coeff^(niveau-1));

					enDegNv = Math.floor(enDegTot/10);
					enDegModNv = enDegTot%10;
					noDegNv = Math.floor(noDegTot/10);
					noDegModNv = noDegTot%10;
					kyDegNv = Math.floor(kyDegTot/10);
					kyDegModNv = kyDegTot%10;
					amDegNv = Math.floor(amDegTot/10);
					amDegModNv = amDegTot%10;
					teDegNv = Math.floor(teDegTot/10);
					teDegModNv = teDegTot%10;
					demDegNv = Math.floor(demDegTot/10);
					demDegModNv = demDegTot%10;
					dragDegNv = Math.floor(dragDegTot/10);
					dragDegModNv = dragDegTot%10;

					enPdvNv = enPdv * (coeff^(niveau-1));
					noPdvNv = noPdv * (coeff^(niveau-1));
					kyPdvNv = kyPdv * (coeff^(niveau-1));
					amPdvNv = amPdv * (coeff^(niveau-1));
					tePdvNv = tePdv * (coeff^(niveau-1));
					demPdvNv = demPdv * (coeff^(niveau-1));
					dragPdvNv = dragPdv * (coeff^(niveau-1));

					setAttrs({
						repeating_En_En_Deg: enDegNv,
						repeating_En_En_DegMod: enDegModNv,
						repeating_En_En_PdV: enPdvNv,
						repeating_No_No_Deg: noDegNv,
						repeating_No_No_DegMod: noDegModNv,
						repeating_No_No_PdV: noPdvNv,
						repeating_Ky_Ky_Deg: kyDegNv,
						repeating_Ky_Ky_DegMod: kyDegModNv,
						repeating_Ky_Ky_PdV: kyPdvNv,
						repeating_Am_Am_Deg: amDegNv,
						repeating_Am_Am_DegMod: amDegModNv,
						repeating_Am_Am_PdV: amPdvNv,
						repeating_Te_Te_Deg: teDegNv,
						repeating_Te_Te_DegMod: teDegModNv,
						repeating_Te_Te_PdV: tePdvNv,
						repeating_dem_dem_Deg: demDegNv,
						repeating_dem_dem_DegMod: demDegModNv,
						repeating_dem_dem_PdV: demPdvNv,
						repeating_drag_drag_Deg: dragDegNv,
						repeating_drag_drag_DegMod: dragDegModNv,
						repeating_drag_drag_PdV: dragPdvNv
					});
				}
			});
		});
	});
	*/

	// 
/**
 * function to get section ids of multiple repeating sections
 * @param {object[]} queue - Array of section details on how to assemble the names of a section
 * @param {function} callback - the function to call once all section info is assembled
 * @param {string[]} [getArr = []] - Array that will hold all the attribute names that eventually need to be gotten
 * @param {object} [sections = {}] - object that lists the ids found for each section, indexed by section name.
 */
const getSections = (queue,callback,getArr = [],sections = {}) => {
	const sectionDetail = queue.shift();
	getSectionIDs(sectionDetail.section,(idArr) => {
	  // Store the idArr in the sections object so that we can use later to iterate over ids for a given section.
	  sections[sectionDetail.section] = idArr;
	  // iterate through the ids in the section
	  idArr.forEach(id => {
		// Iteratively add the full field names to the getArr
		sectionDetail.fields.forEach(field => getArr.push(`${sectionDetail.section}_${id}_${field}`))
	  });
	  // If there are sections left to work, call the function again to continue working through the queue. Otherwise, call the callback function.
	  if(queue.length){
		getSections(queue,callback,getArr,sections);
	  }else{
		callback(getArr,sections);
	  }
	})
  }
  
  // Make an array to hold all of the information about our repeating sections.
  const repeatingSections = [
	{section:"repeating_En",fields:['En_Deg','En_DegMod','En_PdV',]}, 
	{section:"repeating_Ky",fields:['Ky_Deg','Ky_DegMod','Ky_PdV',]}, 
	{section:"repeating_No",fields:['No_Deg','No_DegMod','No_PdV',]}, 
	{section:"repeating_Am",fields:['Am_Deg','Am_DegMod','Am_PdV',]}, 
	{section:"repeating_Te",fields:['Te_Deg','Te_DegMod','Te_PdV',]}, 
	{section:"repeating_dem",fields:['dem_Deg','dem_DegMod','dem_PdV',]}, 
	{section:"repeating_drag",fields:['drag_Deg','drag_DegMod','drag_PdV',]}
  ];
  
  on("change:nvgroupe", function () {
	// clone the repeatingSections array so that we don't mutate the base array each time this runs
	const sectionQueue = [...repeatingSections];
	// Convert the getSectionIDs to a burn down or queue pattern
	// I've moved this out to it's own function that you can use elsewhere
	getSections(
	  sectionQueue,
	  (getArr,sections)=>{
		getAttrs(getArr,(values) => {
		  // Create an empty object that we'll use to accumulate the changes we want to make to the sheet
		  const setObj = {};
		  // iterate over each section name and the ids for that section
		  Object.entries(sections)
			.forEach(([section,idArr]) => {
			  idArr.forEach(id => {
				const niveau = parseInt(values.nvgroupe);
				// Put all our logic inside the if so it only runs if we need to use it.
				if(niveau > 1){
				  // use the section name, minus the repeating_ bit as the prefix for the attribute name.
				  const sectionPrefix = section.replace(/repeating_/,'');
				  // Create the full row string so we don't have to remake it for each calculation
				  const row = `${section}_${id}_${sectionPrefix}`;
				  // Convert to numbers
				  const deg = parseInt(values[`${row}_Deg`]);
				  const degMod = parseInt(values[`${row}_DegMod`]);
				  const pdv = parseInt(values[`${row}_Pdv`]);
				  // create our deg total attribute
				  const coeff = 1.15;
  
				  let degTotal = ((deg * 10) + degMod) * (coeff ^ (niveau - 1));
  
				  setObj[`${row}_Deg`] = Math.floor(degTotal / 10);
				  setObj[`${row}_DegMod`] = degTotal % 10;
				  setObj[`${row}_Pdv`] = pdv * (coeff ^ (niveau - 1));
				}
			  })
			})
		  // Apply all of our changes at once
		  // I almost always use the silent option on setAttrs
		  // to avoid cascading event listeners which can really
		  // bog your sheet down
		  setAttrs(setObj,{silent:true});
		})
	  },
	  ['nvgroupe']
	)
  });
</script>
<!--Fin scripts-->
